{"version":3,"mappings":"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","names":["t","e","s","o","n$3","r","n","i","S","c","h","a","l","p","d","u","f","b","y$1","y","v","_","m","g","$","x","T","E","A","C","P","V","N","H","I","L","k","M","R","z","j","B","_a","EventBus","event","data","callback","error","callbacks","index","onceCallback","eventBus","EVENTS","MockServiceNowAPI","flowId","flow","errors","node","workflow","workflowId","request","ms","resolve","mockAPI","ApprovalBuilder","LitElement","template","validation","type","nodes","nodeData","typePriority","sortedNodes","aPriority","bPriority","summary","testResults","sampleRequest","message","field","value","approvers","totalTimeout","sum","html","css","__decorateClass","property","state","customElement","ConnectionLayer","nodeId","connection","fromPos","toPos","dx","dy","distance","offset","cp1x","cp1y","cp2x","cp2y","path","angle","ApprovalCanvas","entries","entry","width","height","canvas","needsRepositioning","maxWidth","maxHeight","gridSize","startX","startY","allNodes","keys","current","direction","currentIndex","newIndex","movedNode","tempWorkflow","conn","fromNode","toNode","position","testPosition","newPosition","ApprovalNode","__vitePreload","eventBus$1","currentX","stepNumber","conditionType","operator","operatorText","count","typeText","ApprovalPalette","nodeType","ApprovalProperties","input","select","userName","selectedNode","user","currentApprovers","approverIndex","isSelected","LightdashService","dashboardId","metrics","lightdashService","FinOpsDashboard","err","date","totalSpend","budget","costByService","costByDepartment","costByCloudProvider","anomalies","item","anomaly"],"sources":["../../node_modules/@lit/reactive-element/css-tag.js","../../node_modules/@lit/reactive-element/reactive-element.js","../../node_modules/lit-html/lit-html.js","../../node_modules/lit-element/lit-element.js","../../node_modules/@lit/reactive-element/decorators/custom-element.js","../../node_modules/@lit/reactive-element/decorators/property.js","../../node_modules/@lit/reactive-element/decorators/state.js","../../src/utils/event-bus.ts","../../src/services/mock-api.ts","../../src/components/approval-builder.ts","../../src/components/connection-layer.ts","../../src/components/approval-canvas.ts","../../src/components/approval-node.ts","../../src/components/approval-palette.ts","../../src/components/approval-properties.ts","../../src/services/lightdash-service.ts","../../src/components/finops-dashboard.ts","../../src/main.ts"],"sourcesContent":["/**\n * @license\n * Copyright 2019 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nconst t=globalThis,e=t.ShadowRoot&&(void 0===t.ShadyCSS||t.ShadyCSS.nativeShadow)&&\"adoptedStyleSheets\"in Document.prototype&&\"replace\"in CSSStyleSheet.prototype,s=Symbol(),o=new WeakMap;class n{constructor(t,e,o){if(this._$cssResult$=!0,o!==s)throw Error(\"CSSResult is not constructable. Use `unsafeCSS` or `css` instead.\");this.cssText=t,this.t=e}get styleSheet(){let t=this.o;const s=this.t;if(e&&void 0===t){const e=void 0!==s&&1===s.length;e&&(t=o.get(s)),void 0===t&&((this.o=t=new CSSStyleSheet).replaceSync(this.cssText),e&&o.set(s,t))}return t}toString(){return this.cssText}}const r=t=>new n(\"string\"==typeof t?t:t+\"\",void 0,s),i=(t,...e)=>{const o=1===t.length?t[0]:e.reduce(((e,s,o)=>e+(t=>{if(!0===t._$cssResult$)return t.cssText;if(\"number\"==typeof t)return t;throw Error(\"Value passed to 'css' function must be a 'css' function result: \"+t+\". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.\")})(s)+t[o+1]),t[0]);return new n(o,t,s)},S=(s,o)=>{if(e)s.adoptedStyleSheets=o.map((t=>t instanceof CSSStyleSheet?t:t.styleSheet));else for(const e of o){const o=document.createElement(\"style\"),n=t.litNonce;void 0!==n&&o.setAttribute(\"nonce\",n),o.textContent=e.cssText,s.appendChild(o)}},c=e?t=>t:t=>t instanceof CSSStyleSheet?(t=>{let e=\"\";for(const s of t.cssRules)e+=s.cssText;return r(e)})(t):t;export{n as CSSResult,S as adoptStyles,i as css,c as getCompatibleStyle,e as supportsAdoptingStyleSheets,r as unsafeCSS};\n//# sourceMappingURL=css-tag.js.map\n","import{getCompatibleStyle as t,adoptStyles as s}from\"./css-tag.js\";export{CSSResult,css,supportsAdoptingStyleSheets,unsafeCSS}from\"./css-tag.js\";\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */const{is:i,defineProperty:e,getOwnPropertyDescriptor:h,getOwnPropertyNames:r,getOwnPropertySymbols:o,getPrototypeOf:n}=Object,a=globalThis,c=a.trustedTypes,l=c?c.emptyScript:\"\",p=a.reactiveElementPolyfillSupport,d=(t,s)=>t,u={toAttribute(t,s){switch(s){case Boolean:t=t?l:null;break;case Object:case Array:t=null==t?t:JSON.stringify(t)}return t},fromAttribute(t,s){let i=t;switch(s){case Boolean:i=null!==t;break;case Number:i=null===t?null:Number(t);break;case Object:case Array:try{i=JSON.parse(t)}catch(t){i=null}}return i}},f=(t,s)=>!i(t,s),b={attribute:!0,type:String,converter:u,reflect:!1,useDefault:!1,hasChanged:f};Symbol.metadata??=Symbol(\"metadata\"),a.litPropertyMetadata??=new WeakMap;class y extends HTMLElement{static addInitializer(t){this._$Ei(),(this.l??=[]).push(t)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(t,s=b){if(s.state&&(s.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(t)&&((s=Object.create(s)).wrapped=!0),this.elementProperties.set(t,s),!s.noAccessor){const i=Symbol(),h=this.getPropertyDescriptor(t,i,s);void 0!==h&&e(this.prototype,t,h)}}static getPropertyDescriptor(t,s,i){const{get:e,set:r}=h(this.prototype,t)??{get(){return this[s]},set(t){this[s]=t}};return{get:e,set(s){const h=e?.call(this);r?.call(this,s),this.requestUpdate(t,h,i)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)??b}static _$Ei(){if(this.hasOwnProperty(d(\"elementProperties\")))return;const t=n(this);t.finalize(),void 0!==t.l&&(this.l=[...t.l]),this.elementProperties=new Map(t.elementProperties)}static finalize(){if(this.hasOwnProperty(d(\"finalized\")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(d(\"properties\"))){const t=this.properties,s=[...r(t),...o(t)];for(const i of s)this.createProperty(i,t[i])}const t=this[Symbol.metadata];if(null!==t){const s=litPropertyMetadata.get(t);if(void 0!==s)for(const[t,i]of s)this.elementProperties.set(t,i)}this._$Eh=new Map;for(const[t,s]of this.elementProperties){const i=this._$Eu(t,s);void 0!==i&&this._$Eh.set(i,t)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(s){const i=[];if(Array.isArray(s)){const e=new Set(s.flat(1/0).reverse());for(const s of e)i.unshift(t(s))}else void 0!==s&&i.push(t(s));return i}static _$Eu(t,s){const i=s.attribute;return!1===i?void 0:\"string\"==typeof i?i:\"string\"==typeof t?t.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){this._$ES=new Promise((t=>this.enableUpdating=t)),this._$AL=new Map,this._$E_(),this.requestUpdate(),this.constructor.l?.forEach((t=>t(this)))}addController(t){(this._$EO??=new Set).add(t),void 0!==this.renderRoot&&this.isConnected&&t.hostConnected?.()}removeController(t){this._$EO?.delete(t)}_$E_(){const t=new Map,s=this.constructor.elementProperties;for(const i of s.keys())this.hasOwnProperty(i)&&(t.set(i,this[i]),delete this[i]);t.size>0&&(this._$Ep=t)}createRenderRoot(){const t=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return s(t,this.constructor.elementStyles),t}connectedCallback(){this.renderRoot??=this.createRenderRoot(),this.enableUpdating(!0),this._$EO?.forEach((t=>t.hostConnected?.()))}enableUpdating(t){}disconnectedCallback(){this._$EO?.forEach((t=>t.hostDisconnected?.()))}attributeChangedCallback(t,s,i){this._$AK(t,i)}_$ET(t,s){const i=this.constructor.elementProperties.get(t),e=this.constructor._$Eu(t,i);if(void 0!==e&&!0===i.reflect){const h=(void 0!==i.converter?.toAttribute?i.converter:u).toAttribute(s,i.type);this._$Em=t,null==h?this.removeAttribute(e):this.setAttribute(e,h),this._$Em=null}}_$AK(t,s){const i=this.constructor,e=i._$Eh.get(t);if(void 0!==e&&this._$Em!==e){const t=i.getPropertyOptions(e),h=\"function\"==typeof t.converter?{fromAttribute:t.converter}:void 0!==t.converter?.fromAttribute?t.converter:u;this._$Em=e;const r=h.fromAttribute(s,t.type);this[e]=r??this._$Ej?.get(e)??r,this._$Em=null}}requestUpdate(t,s,i){if(void 0!==t){const e=this.constructor,h=this[t];if(i??=e.getPropertyOptions(t),!((i.hasChanged??f)(h,s)||i.useDefault&&i.reflect&&h===this._$Ej?.get(t)&&!this.hasAttribute(e._$Eu(t,i))))return;this.C(t,s,i)}!1===this.isUpdatePending&&(this._$ES=this._$EP())}C(t,s,{useDefault:i,reflect:e,wrapped:h},r){i&&!(this._$Ej??=new Map).has(t)&&(this._$Ej.set(t,r??s??this[t]),!0!==h||void 0!==r)||(this._$AL.has(t)||(this.hasUpdated||i||(s=void 0),this._$AL.set(t,s)),!0===e&&this._$Em!==t&&(this._$Eq??=new Set).add(t))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(t){Promise.reject(t)}const t=this.scheduleUpdate();return null!=t&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??=this.createRenderRoot(),this._$Ep){for(const[t,s]of this._$Ep)this[t]=s;this._$Ep=void 0}const t=this.constructor.elementProperties;if(t.size>0)for(const[s,i]of t){const{wrapped:t}=i,e=this[s];!0!==t||this._$AL.has(s)||void 0===e||this.C(s,void 0,i,e)}}let t=!1;const s=this._$AL;try{t=this.shouldUpdate(s),t?(this.willUpdate(s),this._$EO?.forEach((t=>t.hostUpdate?.())),this.update(s)):this._$EM()}catch(s){throw t=!1,this._$EM(),s}t&&this._$AE(s)}willUpdate(t){}_$AE(t){this._$EO?.forEach((t=>t.hostUpdated?.())),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(t){return!0}update(t){this._$Eq&&=this._$Eq.forEach((t=>this._$ET(t,this[t]))),this._$EM()}updated(t){}firstUpdated(t){}}y.elementStyles=[],y.shadowRootOptions={mode:\"open\"},y[d(\"elementProperties\")]=new Map,y[d(\"finalized\")]=new Map,p?.({ReactiveElement:y}),(a.reactiveElementVersions??=[]).push(\"2.1.1\");export{y as ReactiveElement,s as adoptStyles,u as defaultConverter,t as getCompatibleStyle,f as notEqual};\n//# sourceMappingURL=reactive-element.js.map\n","/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nconst t=globalThis,i=t.trustedTypes,s=i?i.createPolicy(\"lit-html\",{createHTML:t=>t}):void 0,e=\"$lit$\",h=`lit$${Math.random().toFixed(9).slice(2)}$`,o=\"?\"+h,n=`<${o}>`,r=document,l=()=>r.createComment(\"\"),c=t=>null===t||\"object\"!=typeof t&&\"function\"!=typeof t,a=Array.isArray,u=t=>a(t)||\"function\"==typeof t?.[Symbol.iterator],d=\"[ \\t\\n\\f\\r]\",f=/<(?:(!--|\\/[^a-zA-Z])|(\\/?[a-zA-Z][^>\\s]*)|(\\/?$))/g,v=/-->/g,_=/>/g,m=RegExp(`>|${d}(?:([^\\\\s\"'>=/]+)(${d}*=${d}*(?:[^ \\t\\n\\f\\r\"'\\`<>=]|(\"|')|))|$)`,\"g\"),p=/'/g,g=/\"/g,$=/^(?:script|style|textarea|title)$/i,y=t=>(i,...s)=>({_$litType$:t,strings:i,values:s}),x=y(1),b=y(2),w=y(3),T=Symbol.for(\"lit-noChange\"),E=Symbol.for(\"lit-nothing\"),A=new WeakMap,C=r.createTreeWalker(r,129);function P(t,i){if(!a(t)||!t.hasOwnProperty(\"raw\"))throw Error(\"invalid template strings array\");return void 0!==s?s.createHTML(i):i}const V=(t,i)=>{const s=t.length-1,o=[];let r,l=2===i?\"<svg>\":3===i?\"<math>\":\"\",c=f;for(let i=0;i<s;i++){const s=t[i];let a,u,d=-1,y=0;for(;y<s.length&&(c.lastIndex=y,u=c.exec(s),null!==u);)y=c.lastIndex,c===f?\"!--\"===u[1]?c=v:void 0!==u[1]?c=_:void 0!==u[2]?($.test(u[2])&&(r=RegExp(\"</\"+u[2],\"g\")),c=m):void 0!==u[3]&&(c=m):c===m?\">\"===u[0]?(c=r??f,d=-1):void 0===u[1]?d=-2:(d=c.lastIndex-u[2].length,a=u[1],c=void 0===u[3]?m:'\"'===u[3]?g:p):c===g||c===p?c=m:c===v||c===_?c=f:(c=m,r=void 0);const x=c===m&&t[i+1].startsWith(\"/>\")?\" \":\"\";l+=c===f?s+n:d>=0?(o.push(a),s.slice(0,d)+e+s.slice(d)+h+x):s+h+(-2===d?i:x)}return[P(t,l+(t[s]||\"<?>\")+(2===i?\"</svg>\":3===i?\"</math>\":\"\")),o]};class N{constructor({strings:t,_$litType$:s},n){let r;this.parts=[];let c=0,a=0;const u=t.length-1,d=this.parts,[f,v]=V(t,s);if(this.el=N.createElement(f,n),C.currentNode=this.el.content,2===s||3===s){const t=this.el.content.firstChild;t.replaceWith(...t.childNodes)}for(;null!==(r=C.nextNode())&&d.length<u;){if(1===r.nodeType){if(r.hasAttributes())for(const t of r.getAttributeNames())if(t.endsWith(e)){const i=v[a++],s=r.getAttribute(t).split(h),e=/([.?@])?(.*)/.exec(i);d.push({type:1,index:c,name:e[2],strings:s,ctor:\".\"===e[1]?H:\"?\"===e[1]?I:\"@\"===e[1]?L:k}),r.removeAttribute(t)}else t.startsWith(h)&&(d.push({type:6,index:c}),r.removeAttribute(t));if($.test(r.tagName)){const t=r.textContent.split(h),s=t.length-1;if(s>0){r.textContent=i?i.emptyScript:\"\";for(let i=0;i<s;i++)r.append(t[i],l()),C.nextNode(),d.push({type:2,index:++c});r.append(t[s],l())}}}else if(8===r.nodeType)if(r.data===o)d.push({type:2,index:c});else{let t=-1;for(;-1!==(t=r.data.indexOf(h,t+1));)d.push({type:7,index:c}),t+=h.length-1}c++}}static createElement(t,i){const s=r.createElement(\"template\");return s.innerHTML=t,s}}function S(t,i,s=t,e){if(i===T)return i;let h=void 0!==e?s._$Co?.[e]:s._$Cl;const o=c(i)?void 0:i._$litDirective$;return h?.constructor!==o&&(h?._$AO?.(!1),void 0===o?h=void 0:(h=new o(t),h._$AT(t,s,e)),void 0!==e?(s._$Co??=[])[e]=h:s._$Cl=h),void 0!==h&&(i=S(t,h._$AS(t,i.values),h,e)),i}class M{constructor(t,i){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=i}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(t){const{el:{content:i},parts:s}=this._$AD,e=(t?.creationScope??r).importNode(i,!0);C.currentNode=e;let h=C.nextNode(),o=0,n=0,l=s[0];for(;void 0!==l;){if(o===l.index){let i;2===l.type?i=new R(h,h.nextSibling,this,t):1===l.type?i=new l.ctor(h,l.name,l.strings,this,t):6===l.type&&(i=new z(h,this,t)),this._$AV.push(i),l=s[++n]}o!==l?.index&&(h=C.nextNode(),o++)}return C.currentNode=r,e}p(t){let i=0;for(const s of this._$AV)void 0!==s&&(void 0!==s.strings?(s._$AI(t,s,i),i+=s.strings.length-2):s._$AI(t[i])),i++}}class R{get _$AU(){return this._$AM?._$AU??this._$Cv}constructor(t,i,s,e){this.type=2,this._$AH=E,this._$AN=void 0,this._$AA=t,this._$AB=i,this._$AM=s,this.options=e,this._$Cv=e?.isConnected??!0}get parentNode(){let t=this._$AA.parentNode;const i=this._$AM;return void 0!==i&&11===t?.nodeType&&(t=i.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,i=this){t=S(this,t,i),c(t)?t===E||null==t||\"\"===t?(this._$AH!==E&&this._$AR(),this._$AH=E):t!==this._$AH&&t!==T&&this._(t):void 0!==t._$litType$?this.$(t):void 0!==t.nodeType?this.T(t):u(t)?this.k(t):this._(t)}O(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}T(t){this._$AH!==t&&(this._$AR(),this._$AH=this.O(t))}_(t){this._$AH!==E&&c(this._$AH)?this._$AA.nextSibling.data=t:this.T(r.createTextNode(t)),this._$AH=t}$(t){const{values:i,_$litType$:s}=t,e=\"number\"==typeof s?this._$AC(t):(void 0===s.el&&(s.el=N.createElement(P(s.h,s.h[0]),this.options)),s);if(this._$AH?._$AD===e)this._$AH.p(i);else{const t=new M(e,this),s=t.u(this.options);t.p(i),this.T(s),this._$AH=t}}_$AC(t){let i=A.get(t.strings);return void 0===i&&A.set(t.strings,i=new N(t)),i}k(t){a(this._$AH)||(this._$AH=[],this._$AR());const i=this._$AH;let s,e=0;for(const h of t)e===i.length?i.push(s=new R(this.O(l()),this.O(l()),this,this.options)):s=i[e],s._$AI(h),e++;e<i.length&&(this._$AR(s&&s._$AB.nextSibling,e),i.length=e)}_$AR(t=this._$AA.nextSibling,i){for(this._$AP?.(!1,!0,i);t!==this._$AB;){const i=t.nextSibling;t.remove(),t=i}}setConnected(t){void 0===this._$AM&&(this._$Cv=t,this._$AP?.(t))}}class k{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(t,i,s,e,h){this.type=1,this._$AH=E,this._$AN=void 0,this.element=t,this.name=i,this._$AM=e,this.options=h,s.length>2||\"\"!==s[0]||\"\"!==s[1]?(this._$AH=Array(s.length-1).fill(new String),this.strings=s):this._$AH=E}_$AI(t,i=this,s,e){const h=this.strings;let o=!1;if(void 0===h)t=S(this,t,i,0),o=!c(t)||t!==this._$AH&&t!==T,o&&(this._$AH=t);else{const e=t;let n,r;for(t=h[0],n=0;n<h.length-1;n++)r=S(this,e[s+n],i,n),r===T&&(r=this._$AH[n]),o||=!c(r)||r!==this._$AH[n],r===E?t=E:t!==E&&(t+=(r??\"\")+h[n+1]),this._$AH[n]=r}o&&!e&&this.j(t)}j(t){t===E?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,t??\"\")}}class H extends k{constructor(){super(...arguments),this.type=3}j(t){this.element[this.name]=t===E?void 0:t}}class I extends k{constructor(){super(...arguments),this.type=4}j(t){this.element.toggleAttribute(this.name,!!t&&t!==E)}}class L extends k{constructor(t,i,s,e,h){super(t,i,s,e,h),this.type=5}_$AI(t,i=this){if((t=S(this,t,i,0)??E)===T)return;const s=this._$AH,e=t===E&&s!==E||t.capture!==s.capture||t.once!==s.once||t.passive!==s.passive,h=t!==E&&(s===E||e);e&&this.element.removeEventListener(this.name,this,s),h&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){\"function\"==typeof this._$AH?this._$AH.call(this.options?.host??this.element,t):this._$AH.handleEvent(t)}}class z{constructor(t,i,s){this.element=t,this.type=6,this._$AN=void 0,this._$AM=i,this.options=s}get _$AU(){return this._$AM._$AU}_$AI(t){S(this,t)}}const Z={M:e,P:h,A:o,C:1,L:V,R:M,D:u,V:S,I:R,H:k,N:I,U:L,B:H,F:z},j=t.litHtmlPolyfillSupport;j?.(N,R),(t.litHtmlVersions??=[]).push(\"3.3.1\");const B=(t,i,s)=>{const e=s?.renderBefore??i;let h=e._$litPart$;if(void 0===h){const t=s?.renderBefore??null;e._$litPart$=h=new R(i.insertBefore(l(),t),t,void 0,s??{})}return h._$AI(t),h};export{Z as _$LH,x as html,w as mathml,T as noChange,E as nothing,B as render,b as svg};\n//# sourceMappingURL=lit-html.js.map\n","import{ReactiveElement as t}from\"@lit/reactive-element\";export*from\"@lit/reactive-element\";import{render as e,noChange as r}from\"lit-html\";export*from\"lit-html\";\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */const s=globalThis;class i extends t{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){const t=super.createRenderRoot();return this.renderOptions.renderBefore??=t.firstChild,t}update(t){const r=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Do=e(r,this.renderRoot,this.renderOptions)}connectedCallback(){super.connectedCallback(),this._$Do?.setConnected(!0)}disconnectedCallback(){super.disconnectedCallback(),this._$Do?.setConnected(!1)}render(){return r}}i._$litElement$=!0,i[\"finalized\"]=!0,s.litElementHydrateSupport?.({LitElement:i});const o=s.litElementPolyfillSupport;o?.({LitElement:i});const n={_$AK:(t,e,r)=>{t._$AK(e,r)},_$AL:t=>t._$AL};(s.litElementVersions??=[]).push(\"4.2.1\");export{i as LitElement,n as _$LE};\n//# sourceMappingURL=lit-element.js.map\n","/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nconst t=t=>(e,o)=>{void 0!==o?o.addInitializer((()=>{customElements.define(t,e)})):customElements.define(t,e)};export{t as customElement};\n//# sourceMappingURL=custom-element.js.map\n","import{defaultConverter as t,notEqual as e}from\"../reactive-element.js\";\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */const o={attribute:!0,type:String,converter:t,reflect:!1,hasChanged:e},r=(t=o,e,r)=>{const{kind:n,metadata:i}=r;let s=globalThis.litPropertyMetadata.get(i);if(void 0===s&&globalThis.litPropertyMetadata.set(i,s=new Map),\"setter\"===n&&((t=Object.create(t)).wrapped=!0),s.set(r.name,t),\"accessor\"===n){const{name:o}=r;return{set(r){const n=e.get.call(this);e.set.call(this,r),this.requestUpdate(o,n,t)},init(e){return void 0!==e&&this.C(o,void 0,t,e),e}}}if(\"setter\"===n){const{name:o}=r;return function(r){const n=this[o];e.call(this,r),this.requestUpdate(o,n,t)}}throw Error(\"Unsupported decorator location: \"+n)};function n(t){return(e,o)=>\"object\"==typeof o?r(t,e,o):((t,e,o)=>{const r=e.hasOwnProperty(o);return e.constructor.createProperty(o,t),r?Object.getOwnPropertyDescriptor(e,o):void 0})(t,e,o)}export{n as property,r as standardProperty};\n//# sourceMappingURL=property.js.map\n","import{property as t}from\"./property.js\";\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */function r(r){return t({...r,state:!0,attribute:!1})}export{r as state};\n//# sourceMappingURL=state.js.map\n","// Simple Event Bus for Component Communication\n// No Redux/Context needed - just events!\n//\n//  SECURITY NOTE: This is a global singleton for convenience in POC/demo.\n// For production, consider using native browser CustomEvent API instead for:\n// - Better security (scoped to component tree)\n// - Better performance (browser-optimized)\n// - Better isolation (no global state)\n//\n// See docs/event-bus-security.md for security considerations and alternatives.\n\nexport class EventBus {\n  private listeners: Map<string, Function[]> = new Map();\n  \n  emit(event: string, data?: any): void {\n    const callbacks = this.listeners.get(event) || [];\n    callbacks.forEach(callback => {\n      try {\n        callback(data);\n      } catch (error) {\n        console.error(`Error in event callback for ${event}:`, error);\n      }\n    });\n  }\n  \n  on(event: string, callback: Function): void {\n    if (!this.listeners.has(event)) {\n      this.listeners.set(event, []);\n    }\n    this.listeners.get(event)!.push(callback);\n  }\n  \n  off(event: string, callback: Function): void {\n    const callbacks = this.listeners.get(event) || [];\n    const index = callbacks.indexOf(callback);\n    if (index > -1) {\n      callbacks.splice(index, 1);\n    }\n  }\n  \n  once(event: string, callback: Function): void {\n    const onceCallback = (data: any) => {\n      callback(data);\n      this.off(event, onceCallback);\n    };\n    this.on(event, onceCallback);\n  }\n}\n\n// Global event bus instance (singleton pattern)\n//  SECURITY: Global singleton allows any code to listen/emit events.\n// In production, prefer scoped event buses or native CustomEvent API.\nexport const eventBus = new EventBus();\n\n// Event types for type safety\nexport const EVENTS = {\n  // Workflow events\n  WORKFLOW_UPDATED: 'workflow-updated',\n  WORKFLOW_SAVED: 'workflow-saved',\n  WORKFLOW_VALIDATED: 'workflow-validated',\n  \n  // Node events\n  NODE_SELECTED: 'node-selected',\n  NODE_ADDED: 'node-added',\n  NODE_EDITED: 'node-edited',\n  NODE_DELETED: 'node-deleted',\n  NODE_MOVED: 'node-moved',\n  \n  // Connection events\n  CONNECTION_ADDED: 'connection-added',\n  CONNECTION_DELETED: 'connection-deleted',\n  \n  // UI events\n  CANVAS_CLICKED: 'canvas-clicked',\n  PROPERTY_CHANGED: 'property-changed',\n  \n  // Validation events\n  VALIDATION_ERROR: 'validation-error',\n  VALIDATION_SUCCESS: 'validation-success'\n} as const;\n","// Mock ServiceNow API Service for Demo\nimport { ApprovalWorkflow, ApprovalNode, User, ValidationResult, ApprovalTemplate } from '../types';\n\nexport class MockServiceNowAPI {\n  private baseUrl = '/api/servicenow';\n  \n  // Mock Flow APIs\n  async getFlowDefinition(flowId: string): Promise<ApprovalWorkflow> {\n    // Simulate network delay\n    await this.delay(300);\n    \n    return {\n      id: flowId,\n      name: 'Sample Approval Flow',\n      description: 'A sample approval workflow for demonstration',\n      nodes: [\n        {\n          id: 'start_1',\n          type: 'start',\n          name: 'Start',\n          position: { x: 100, y: 100 },\n          configuration: {},\n          createdAt: new Date(),\n          updatedAt: new Date()\n        },\n        {\n          id: 'approver_1',\n          type: 'approver',\n          name: 'Manager Approval',\n          position: { x: 300, y: 100 },\n          configuration: {\n            approvalType: 'single',\n            timeout: 7\n          },\n          approver: {\n            id: 'john_smith',\n            name: 'John Smith',\n            email: 'john@company.com'\n          },\n          createdAt: new Date(),\n          updatedAt: new Date()\n        },\n        {\n          id: 'end_1',\n          type: 'end',\n          name: 'Complete',\n          position: { x: 500, y: 100 },\n          configuration: {},\n          createdAt: new Date(),\n          updatedAt: new Date()\n        }\n      ],\n      connections: [\n        { id: 'conn_1', from: 'start_1', to: 'approver_1', type: 'approval' },\n        { id: 'conn_2', from: 'approver_1', to: 'end_1', type: 'approval' }\n      ],\n      createdAt: new Date(),\n      updatedAt: new Date(),\n      version: '1.0.0'\n    };\n  }\n  \n  async saveFlowDefinition(flow: ApprovalWorkflow): Promise<void> {\n    // Simulate network delay\n    await this.delay(500);\n    \n    console.log(' Saving flow:', flow.name);\n    // In real implementation, this would save to ServiceNow\n  }\n  \n  async validateFlow(flow: ApprovalWorkflow): Promise<ValidationResult> {\n    // Simulate network delay\n    await this.delay(200);\n    \n    const errors = [];\n    \n    // Check for required nodes\n    if (!flow.nodes.some(n => n.type === 'start')) {\n      errors.push({\n        type: 'missing-start',\n        message: 'Workflow must have a start node',\n        severity: 'error' as const\n      });\n    }\n    \n    if (!flow.nodes.some(n => n.type === 'end')) {\n      errors.push({\n        type: 'missing-end',\n        message: 'Workflow must have an end node',\n        severity: 'error' as const\n      });\n    }\n    \n    // Check for approvers without assigned users\n    const approverNodes = flow.nodes.filter(n => n.type === 'approver');\n    approverNodes.forEach(node => {\n      if (!node.approver) {\n        errors.push({\n          type: 'missing-approver',\n          message: `Approver node \"${node.name}\" needs an assigned approver`,\n          severity: 'error' as const,\n          nodeId: node.id\n        });\n      }\n    });\n    \n    return {\n      isValid: errors.filter(e => e.severity === 'error').length === 0,\n      errors\n    };\n  }\n  \n  // Mock User APIs\n  async getUsers(): Promise<User[]> {\n    // Simulate network delay\n    await this.delay(200);\n    \n    return [\n      { id: 'john_smith', name: 'John Smith', email: 'john@company.com', department: 'IT' },\n      { id: 'sarah_johnson', name: 'Sarah Johnson', email: 'sarah@company.com', department: 'HR' },\n      { id: 'mike_wilson', name: 'Mike Wilson', email: 'mike@company.com', department: 'Finance' },\n      { id: 'lisa_brown', name: 'Lisa Brown', email: 'lisa@company.com', department: 'Operations' },\n      { id: 'david_lee', name: 'David Lee', email: 'david@company.com', department: 'IT' }\n    ];\n  }\n  \n  // Mock Approval APIs\n  async createApprovalWorkflow(workflow: ApprovalWorkflow): Promise<string> {\n    // Simulate network delay\n    await this.delay(800);\n    \n    const workflowId = `approval_workflow_${Date.now()}`;\n    console.log(' Created approval workflow:', workflowId);\n    return workflowId;\n  }\n  \n  async executeApprovalWorkflow(workflowId: string, request: any): Promise<any> {\n    // Simulate network delay\n    await this.delay(1000);\n    \n    return {\n      success: true,\n      executionId: `exec_${Date.now()}`,\n      status: 'completed'\n    };\n  }\n  \n  // Mock Templates\n  async getApprovalTemplates(): Promise<ApprovalTemplate[]> {\n    await this.delay(200);\n    \n    return [\n      {\n        id: 'simple-approval',\n        name: 'Simple Approval',\n        description: 'Single approver workflow',\n        icon: '',\n        nodes: [\n          { type: 'start', name: 'Start' },\n          { type: 'approver', name: 'Manager Approval' },\n          { type: 'end', name: 'Complete' }\n        ],\n        connections: [\n          { from: 'start', to: 'approver' },\n          { from: 'approver', to: 'end' }\n        ]\n      },\n      {\n        id: 'parallel-approval',\n        name: 'Parallel Approval',\n        description: 'Multiple approvers simultaneously',\n        icon: '',\n        nodes: [\n          { type: 'start', name: 'Start' },\n          { type: 'parallel', name: 'Parallel Approvers' },\n          { type: 'end', name: 'Complete' }\n        ],\n        connections: [\n          { from: 'start', to: 'parallel' },\n          { from: 'parallel', to: 'end' }\n        ]\n      },\n      {\n        id: 'conditional-approval',\n        name: 'Conditional Approval',\n        description: 'Approval based on conditions',\n        icon: '',\n        nodes: [\n          { type: 'start', name: 'Start' },\n          { type: 'condition', name: 'Check Amount' },\n          { type: 'approver', name: 'Manager Approval' },\n          { type: 'end', name: 'Complete' }\n        ],\n        connections: [\n          { from: 'start', to: 'condition' },\n          { from: 'condition', to: 'approver' },\n          { from: 'approver', to: 'end' }\n        ]\n      }\n    ];\n  }\n  \n  // Utility method to simulate network delay\n  private delay(ms: number): Promise<void> {\n    return new Promise(resolve => setTimeout(resolve, ms));\n  }\n}\n\n// Global API instance\nexport const mockAPI = new MockServiceNowAPI();\n","import { LitElement, html, css } from 'lit';\nimport { customElement, property, state } from 'lit/decorators.js';\nimport { ApprovalWorkflow } from '../types';\nimport { eventBus, EVENTS } from '../utils/event-bus';\nimport { mockAPI } from '../services/mock-api';\n\n@customElement('approval-builder')\nexport class ApprovalBuilder extends LitElement {\n  @property({ type: Object }) workflow: ApprovalWorkflow | null = null;\n  @state() private isLoading = false;\n  @state() private selectedNodeId: string | null = null;\n  @state() private activeView: 'workflow' | 'finops' = 'workflow';\n  private eventListenersSetup = false;\n\n  static styles = css`\n    :host {\n      display: flex;\n      height: 100%;\n      width: 100%;\n    }\n\n    .approval-builder {\n      display: flex;\n      flex-direction: column;\n      height: 100%;\n      width: 100%;\n      background: #ffffff;\n    }\n\n    .view-tabs {\n      display: flex;\n      background: #f8f9fa;\n      border-bottom: 1px solid #e9ecef;\n      padding: 0 1rem;\n      gap: 0.5rem;\n    }\n\n    .view-tab {\n      padding: 0.75rem 1.5rem;\n      background: transparent;\n      border: none;\n      border-bottom: 3px solid transparent;\n      cursor: pointer;\n      font-size: 0.875rem;\n      font-weight: 500;\n      color: #6b7280;\n      transition: all 0.2s;\n      margin-bottom: -1px;\n    }\n\n    .view-tab:hover {\n      color: #374151;\n      background: rgba(59, 130, 246, 0.05);\n    }\n\n    .view-tab.active {\n      color: #3b82f6;\n      border-bottom-color: #3b82f6;\n      background: white;\n    }\n\n    .view-content {\n      display: flex;\n      flex: 1;\n      overflow: hidden;\n    }\n\n    .view-content.hidden {\n      display: none;\n    }\n\n    .left-panel {\n      min-width: 250px;\n      width: 15vw;\n      background: #f8f9fa;\n      border-right: 1px solid #e9ecef;\n      display: flex;\n      flex-direction: column;\n      flex-shrink: 0;\n    }\n\n    .main-content {\n      flex: 1;\n      display: flex;\n      flex-direction: column;\n      overflow: hidden;\n      min-width: 0;\n      width: 100%;\n    }\n\n    .right-panel {\n      min-width: 250px;\n      width: 15vw;\n      background: #f8f9fa;\n      border-left: 1px solid #e9ecef;\n      display: flex;\n      flex-direction: column;\n      flex-shrink: 0;\n    }\n\n    .toolbar {\n      height: 60px;\n      background: #ffffff;\n      border-bottom: 1px solid #e9ecef;\n      display: flex;\n      align-items: center;\n      padding: 0 1rem;\n      gap: 1rem;\n    }\n\n    .toolbar button {\n      padding: 0.5rem 1rem;\n      border: 1px solid #d1d5db;\n      border-radius: 0.375rem;\n      background: #ffffff;\n      color: #374151;\n      cursor: pointer;\n      font-size: 0.875rem;\n      font-weight: 500;\n      transition: all 0.2s;\n    }\n\n    .toolbar button:hover {\n      background: #f9fafb;\n      border-color: #9ca3af;\n    }\n\n    .toolbar button.primary {\n      background: #3b82f6;\n      color: #ffffff;\n      border-color: #3b82f6;\n    }\n\n    .toolbar button.primary:hover {\n      background: #2563eb;\n    }\n\n    .toolbar button:disabled {\n      opacity: 0.5;\n      cursor: not-allowed;\n    }\n\n    .status-indicator {\n      margin-left: auto;\n      padding: 0.25rem 0.75rem;\n      border-radius: 1rem;\n      font-size: 0.75rem;\n      font-weight: 500;\n    }\n\n    .status-indicator.valid {\n      background: #dcfce7;\n      color: #166534;\n    }\n\n    .status-indicator.invalid {\n      background: #fef2f2;\n      color: #dc2626;\n    }\n\n    .status-indicator.loading {\n      background: #fef3c7;\n      color: #d97706;\n    }\n\n    .workflow-info {\n      background: #f8f9fa;\n      border-bottom: 1px solid #e9ecef;\n      padding: 1rem;\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      flex-wrap: wrap;\n      gap: 1rem;\n    }\n\n    .workflow-title h3 {\n      margin: 0;\n      font-size: 1.125rem;\n      font-weight: 600;\n      color: #374151;\n    }\n\n    .workflow-title p {\n      margin: 0.25rem 0 0 0;\n      font-size: 0.875rem;\n      color: #6b7280;\n    }\n\n    .workflow-tools {\n      display: flex;\n      gap: 0.5rem;\n      flex-wrap: wrap;\n    }\n\n    .workflow-tools button {\n      padding: 0.5rem;\n      border: 1px solid #d1d5db;\n      border-radius: 0.375rem;\n      background: rgba(255, 255, 255, 0.9);\n      color: #374151;\n      cursor: pointer;\n      font-size: 0.875rem;\n      transition: all 0.2s;\n    }\n\n    .workflow-tools button:hover {\n      background: #f9fafb;\n      border-color: #9ca3af;\n    }\n\n    .workflow-hints p {\n      margin: 0;\n      font-size: 0.75rem;\n      color: #6b7280;\n      font-style: italic;\n    }\n\n    .canvas-container {\n      flex: 1;\n      position: relative;\n      overflow: hidden;\n    }\n\n    .loading-overlay {\n      position: absolute;\n      top: 0;\n      left: 0;\n      right: 0;\n      bottom: 0;\n      background: rgba(255, 255, 255, 0.8);\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      z-index: 1000;\n    }\n\n    .loading-spinner {\n      width: 40px;\n      height: 40px;\n      border: 4px solid #e5e7eb;\n      border-top: 4px solid #3b82f6;\n      border-radius: 50%;\n      animation: spin 1s linear infinite;\n    }\n\n    @keyframes spin {\n      0% { transform: rotate(0deg); }\n      100% { transform: rotate(360deg); }\n    }\n  `;\n\n  connectedCallback() {\n    super.connectedCallback();\n    this.setupEventListeners();\n    this.loadWorkflow();\n  }\n\n  disconnectedCallback() {\n    super.disconnectedCallback();\n    this.removeEventListeners();\n  }\n\n  private boundOnNodeSelected = this.onNodeSelected.bind(this);\n  private boundOnWorkflowUpdated = this.onWorkflowUpdated.bind(this);\n  private boundOnTemplateAdd = this.onTemplateAdd.bind(this);\n  private boundOnNodeTypeAdd = this.onNodeTypeAdd.bind(this);\n\n  private setupEventListeners(): void {\n    if (this.eventListenersSetup) {\n      console.log(' Event listeners already setup, skipping...');\n      return;\n    }\n    \n    console.log(' Setting up event listeners...');\n    eventBus.on(EVENTS.NODE_SELECTED, this.boundOnNodeSelected);\n    eventBus.on(EVENTS.WORKFLOW_UPDATED, this.boundOnWorkflowUpdated);\n    eventBus.on('template-add', this.boundOnTemplateAdd);\n    eventBus.on('node-type-add', this.boundOnNodeTypeAdd);\n    \n    this.eventListenersSetup = true;\n  }\n\n  private removeEventListeners(): void {\n    eventBus.off(EVENTS.NODE_SELECTED, this.boundOnNodeSelected);\n    eventBus.off(EVENTS.WORKFLOW_UPDATED, this.boundOnWorkflowUpdated);\n    eventBus.off('template-add', this.boundOnTemplateAdd);\n    eventBus.off('node-type-add', this.boundOnNodeTypeAdd);\n    this.eventListenersSetup = false;\n  }\n\n  private onNodeSelected(node: any): void {\n    try {\n      this.selectedNodeId = node ? node.id : null;\n      console.log('Node selected:', node ? node.id : 'none');\n    } catch (error) {\n      console.error('Error in onNodeSelected:', error);\n      this.selectedNodeId = null;\n    }\n  }\n\n  private onWorkflowUpdated(workflow: ApprovalWorkflow): void {\n    this.workflow = workflow;\n  }\n\n  private onTemplateAdd(data: { template: any }): void {\n    console.log(' Template selected:', data.template);\n    // Create a new workflow based on the template\n    this.createWorkflowFromTemplate(data.template);\n  }\n\n  private onNodeTypeAdd(data: { nodeType: string }): void {\n    console.log(' BUILDER: Received node-type-add event:', data.nodeType);\n    console.log(' BUILDER: Current node count before adding:', this.workflow?.nodes.length || 0);\n    // Add a single node of the specified type\n    this.addNode(data.nodeType as 'start' | 'end' | 'approver' | 'condition' | 'parallel');\n    console.log(' BUILDER: Current node count after adding:', this.workflow?.nodes.length || 0);\n  }\n\n  private createWorkflowFromTemplate(template: any): void {\n    console.log(' Creating workflow from template:', template.name);\n    \n    // Clear existing workflow\n    this.workflow = {\n      id: `template-${Date.now()}`,\n      name: template.name,\n      description: template.description,\n      version: '1.0.0',\n      nodes: [],\n      connections: [],\n      createdAt: new Date(),\n      updatedAt: new Date()\n    };\n\n    // Create nodes based on template type\n    switch (template.name) {\n      case 'Simple Approval':\n        this.addNode('start');\n        this.addNode('approver');\n        this.addNode('end');\n        break;\n      case 'Parallel Approval':\n        this.addNode('start');\n        this.addNode('approver');\n        this.addNode('approver');\n        this.addNode('end');\n        break;\n      case 'Conditional Approval':\n        this.addNode('start');\n        this.addNode('condition');\n        this.addNode('approver');\n        this.addNode('end');\n        break;\n      default:\n        // Default to simple approval\n        this.addNode('start');\n        this.addNode('approver');\n        this.addNode('end');\n    }\n\n    console.log(' Workflow created from template:', this.workflow.name);\n  }\n\n  private async loadWorkflow(): Promise<void> {\n    this.isLoading = true;\n    try {\n      const workflow = await mockAPI.getFlowDefinition('sample-flow-001');\n      this.workflow = workflow;\n    } catch (error) {\n      console.error('Failed to load workflow:', error);\n    } finally {\n      this.isLoading = false;\n    }\n  }\n\n\n  private async validateWorkflow(): Promise<void> {\n    if (!this.workflow) return;\n    \n    this.isLoading = true;\n    try {\n      const validation = await mockAPI.validateFlow(this.workflow);\n      eventBus.emit(EVENTS.WORKFLOW_VALIDATED, validation);\n    } catch (error) {\n      console.error('Failed to validate workflow:', error);\n    } finally {\n      this.isLoading = false;\n    }\n  }\n\n  private getStatusIndicator(): string {\n    if (this.isLoading) return 'loading';\n    if (!this.workflow) return 'invalid';\n    return 'valid';\n  }\n\n  private getStatusText(): string {\n    if (this.isLoading) return ' Loading...';\n    if (!this.workflow) return ' No workflow';\n    return ' Valid workflow';\n  }\n\n  private addNode(type: 'start' | 'end' | 'approver' | 'condition' | 'parallel'): void {\n    console.log(' addNode called with type:', type);\n    console.log(' Current workflow nodes before:', this.workflow?.nodes.length || 0);\n    \n    // Create a new workflow if none exists\n    if (!this.workflow) {\n      this.workflow = {\n        id: 'new-workflow',\n        name: 'New Workflow',\n        description: 'A new approval workflow',\n        version: '1.0.0',\n        nodes: [],\n        connections: [],\n        createdAt: new Date(),\n        updatedAt: new Date()\n      };\n    }\n    \n    const node = {\n      id: `node_${Date.now()}`,\n      type: type,\n      name: this.getDefaultNodeName(type),\n      position: { x: 0, y: 0 },\n      configuration: this.getDefaultConfiguration(type),\n      createdAt: new Date(),\n      updatedAt: new Date()\n    };\n\n    this.workflow.nodes.push(node);\n    console.log(' Current workflow nodes after:', this.workflow.nodes.length);\n    eventBus.emit(EVENTS.WORKFLOW_UPDATED, this.workflow);\n    this.requestUpdate();\n  }\n\n  private getDefaultNodeName(type: 'start' | 'end' | 'approver' | 'condition' | 'parallel'): string {\n    const names = {\n      'start': 'Start',\n      'end': 'End',\n      'approver': 'Approver',\n      'condition': 'Condition',\n      'parallel': 'Parallel Approvers'\n    };\n    return names[type as keyof typeof names] || 'Node';\n  }\n\n  private getDefaultConfiguration(type: 'start' | 'end' | 'approver' | 'condition' | 'parallel'): any {\n    const configs = {\n      'approver': { approvalType: 'single', timeout: 7 },\n      'condition': { conditionType: 'amount', operator: 'greaterThan' },\n      'parallel': { approvalType: 'all', timeout: 7, parallelCount: 2 },\n      'start': {},\n      'end': {}\n    };\n    return configs[type as keyof typeof configs] || {};\n  }\n\n  private clearCanvas(): void {\n    if (this.workflow) {\n      this.workflow.nodes = [];\n      this.workflow.connections = [];\n      eventBus.emit(EVENTS.WORKFLOW_UPDATED, this.workflow);\n      this.requestUpdate();\n    }\n  }\n\n  private createSampleWorkflow(): void {\n    console.log(' Create Sample Workflow button clicked!');\n    alert('Create Sample Workflow button clicked!');\n    \n    // Create a new workflow if none exists\n    if (!this.workflow) {\n      console.log(' Creating new workflow...');\n      this.workflow = {\n        id: 'sample-workflow',\n        name: 'Sample Approval Flow',\n        description: 'A sample purchase approval workflow',\n        version: '1.0.0',\n        nodes: [],\n        connections: [],\n        createdAt: new Date(),\n        updatedAt: new Date()\n      };\n    } else {\n      console.log(' Clearing existing workflow...');\n      // Clear existing nodes\n      this.workflow.nodes = [];\n      this.workflow.connections = [];\n    }\n\n    // Create a realistic purchase approval workflow - CSS Grid will handle positioning\n    const nodes = [\n      { \n        type: 'start', \n        name: 'Employee Submits Purchase Request', \n        x: 0, \n        y: 0,\n        config: { description: 'Employee fills out purchase request form' }\n      },\n      { \n        type: 'approver', \n        name: 'Direct Manager Approval', \n        x: 0, \n        y: 0,\n        config: { \n          approver: 'Sarah Johnson', \n          approvalType: 'single', \n          timeout: 24,\n          description: 'Direct manager reviews and approves request'\n        }\n      },\n      { \n        type: 'condition', \n        name: 'Amount > $5,000?', \n        x: 0, \n        y: 0,\n        config: { \n          field: 'amount', \n          operator: '>', \n          value: 5000,\n          description: 'Check if amount exceeds $5,000 threshold'\n        }\n      },\n      { \n        type: 'approver', \n        name: 'Finance Director Approval', \n        x: 0, \n        y: 0,\n        config: { \n          approver: 'Michael Chen', \n          approvalType: 'single', \n          timeout: 48,\n          description: 'Finance director approval for high-value purchases'\n        }\n      },\n      { \n        type: 'end', \n        name: 'Purchase Order Generated', \n        x: 0, \n        y: 0,\n        config: { description: 'System generates purchase order and notifies vendor' }\n      }\n    ];\n\n    // Add nodes\n    console.log(' Creating', nodes.length, 'nodes...');\n    nodes.forEach((nodeData, index) => {\n      const node = {\n        id: `node_${Date.now()}_${Math.random()}`,\n        type: nodeData.type as 'start' | 'end' | 'approver' | 'condition' | 'parallel',\n        name: nodeData.name,\n        position: { x: nodeData.x, y: nodeData.y },\n        configuration: nodeData.config,\n        createdAt: new Date(),\n        updatedAt: new Date()\n      };\n      this.workflow!.nodes.push(node);\n      console.log(` Created node ${index + 1}: ${node.name} (${node.type})`);\n    });\n    console.log(' Total nodes created:', this.workflow.nodes.length);\n\n    console.log(' Emitting workflow update event...');\n    eventBus.emit(EVENTS.WORKFLOW_UPDATED, this.workflow);\n    console.log(' Requesting update...');\n    this.requestUpdate();\n    console.log(' Sample workflow creation completed!');\n  }\n\n  private autoArrange(): void {\n    if (!this.workflow || this.workflow.nodes.length === 0) return;\n\n    // Sort nodes by type priority (start first, end last)\n    const typePriority = { 'start': 0, 'approver': 1, 'condition': 2, 'parallel': 3, 'end': 4 };\n    const sortedNodes = [...this.workflow.nodes].sort((a, b) => {\n      const aPriority = typePriority[a.type] ?? 5;\n      const bPriority = typePriority[b.type] ?? 5;\n      return aPriority - bPriority;\n    });\n\n    // CSS Grid will handle positioning automatically\n    this.workflow.nodes = sortedNodes;\n\n    eventBus.emit(EVENTS.WORKFLOW_UPDATED, this.workflow);\n    this.requestUpdate();\n  }\n\n  private async saveWorkflow(): Promise<void> {\n    if (!this.workflow) return;\n\n    this.isLoading = true;\n    console.log(' Saving workflow to ServiceNow...');\n\n    try {\n      // Simulate API call delay\n      await new Promise(resolve => setTimeout(resolve, 2000));\n\n      // Mock success response\n      const workflowId = `WF-${Date.now()}`;\n      this.workflow.id = workflowId;\n      \n      console.log(' Workflow saved successfully:', workflowId);\n      this.showSuccessMessage(` Workflow ${workflowId} saved to ServiceNow!`);\n      \n    } catch (error) {\n      console.error(' Failed to save workflow:', error);\n      this.showErrorMessage(' Failed to save workflow. Please try again.');\n    } finally {\n      this.isLoading = false;\n    }\n  }\n\n  private async deployWorkflow(): Promise<void> {\n    if (!this.workflow) return;\n\n    // Show workflow summary first\n    const summary = this.generateWorkflowSummary();\n    const confirmed = confirm(\n      `Deploy this workflow?\\n\\n` +\n      `Name: ${summary.name}\\n` +\n      `Steps: ${summary.nodeCount}\\n` +\n      `Approvers: ${summary.approvers.join(', ')}\\n` +\n      `Est. Processing Time: ${summary.estimatedProcessingTime}\\n\\n` +\n      `This will make the workflow active for all users.`\n    );\n\n    if (!confirmed) return;\n\n    this.isLoading = true;\n    console.log(' Deploying workflow to ServiceNow...');\n\n    try {\n      // Simulate deployment process\n      await new Promise(resolve => setTimeout(resolve, 3000));\n\n      const workflowId = this.workflow.id || `WF-${Date.now()}`;\n      \n      console.log(' Workflow deployed successfully:', workflowId);\n      this.showSuccessMessage(` Workflow ${workflowId} is now LIVE in ServiceNow!`);\n      \n    } catch (error) {\n      console.error(' Failed to deploy workflow:', error);\n      this.showErrorMessage(' Failed to deploy workflow. Please try again.');\n    } finally {\n      this.isLoading = false;\n    }\n  }\n\n  private async testWorkflow(): Promise<void> {\n    if (!this.workflow) return;\n\n    this.isLoading = true;\n    console.log(' Testing workflow execution...');\n\n    try {\n      // Simulate test execution\n      await new Promise(resolve => setTimeout(resolve, 4000));\n\n      const testResults = {\n        totalSteps: this.workflow.nodes.length,\n        completedSteps: this.workflow.nodes.length,\n        executionTime: '2.3 seconds',\n        status: 'PASSED'\n      };\n\n      console.log(' Workflow test completed:', testResults);\n      this.showSuccessMessage(\n        ` Test Results: ${testResults.status}\\n` +\n        `Steps: ${testResults.completedSteps}/${testResults.totalSteps}\\n` +\n        `Execution Time: ${testResults.executionTime}`\n      );\n      \n    } catch (error) {\n      console.error(' Workflow test failed:', error);\n      this.showErrorMessage(' Workflow test failed. Please check your configuration.');\n    } finally {\n      this.isLoading = false;\n    }\n  }\n\n  private viewSampleRequest(): void {\n    if (!this.workflow) return;\n\n    // Create a sample request with realistic data\n    const sampleRequest = {\n      requestId: 'REQ-2024-001',\n      submittedBy: 'John Smith',\n      submittedDate: new Date().toLocaleDateString(),\n      department: 'IT Department',\n      priority: 'High',\n      formFields: {\n        'Item Description': 'Dell Laptop - XPS 13 (16GB RAM, 512GB SSD)',\n        'Estimated Cost': '$1,299.00',\n        'Quantity': '1',\n        'Business Justification': 'Need for new developer workstation to support upcoming project deadlines. Current laptop is 4 years old and experiencing performance issues.',\n        'Vendor Information': 'Dell Technologies - Preferred vendor with corporate discount'\n      },\n      workflow: {\n        name: this.workflow.name,\n        currentStep: 'Manager Approval',\n        totalSteps: this.workflow.nodes.length,\n        approvers: this.workflow.nodes\n          .filter(n => n.type === 'approver')\n          .map(n => n.configuration.approver || 'Unassigned')\n      }\n    };\n\n    // Display the sample request in a formatted way\n    const message = `\n SAMPLE REQUEST DATA\n\nRequest ID: ${sampleRequest.requestId}\nSubmitted By: ${sampleRequest.submittedBy}\nDate: ${sampleRequest.submittedDate}\nDepartment: ${sampleRequest.department}\nPriority: ${sampleRequest.priority}\n\n FORM FIELD VALUES:\n${Object.entries(sampleRequest.formFields).map(([field, value]) => ` ${field}: ${value}`).join('\\n')}\n\n WORKFLOW STATUS:\n Workflow: ${sampleRequest.workflow.name}\n Current Step: ${sampleRequest.workflow.currentStep}\n Total Steps: ${sampleRequest.workflow.totalSteps}\n Approvers: ${sampleRequest.workflow.approvers.join(', ')}\n\nThis is what a real request would look like when submitted through ServiceNow!\n    `.trim();\n\n    alert(message);\n  }\n\n  private generateWorkflowSummary(): any {\n    if (!this.workflow) return {};\n\n    const approvers = this.workflow.nodes\n      .filter(n => n.type === 'approver')\n      .map(n => n.configuration.approver || 'Unassigned');\n\n    const totalTimeout = this.workflow.nodes\n      .filter(n => n.type === 'approver')\n      .reduce((sum, n) => sum + (n.configuration.timeout || 0), 0);\n\n    return {\n      name: this.workflow.name,\n      nodeCount: this.workflow.nodes.length,\n      connectionCount: this.workflow.connections.length,\n      approvers: approvers,\n      estimatedProcessingTime: `${totalTimeout} hours`,\n      lastModified: new Date().toLocaleString()\n    };\n  }\n\n  private showSuccessMessage(message: string): void {\n    // Simple alert for demo - in production would use a toast notification\n    alert(message);\n  }\n\n  private showErrorMessage(message: string): void {\n    // Simple alert for demo - in production would use a toast notification\n    alert(message);\n  }\n\n  render() {\n    return html`\n      <div class=\"approval-builder\">\n        <!-- View Tabs -->\n        <div class=\"view-tabs\">\n          <button \n            class=\"view-tab ${this.activeView === 'workflow' ? 'active' : ''}\"\n            @click=${() => this.activeView = 'workflow'}>\n             Workflow Builder\n          </button>\n          <button \n            class=\"view-tab ${this.activeView === 'finops' ? 'active' : ''}\"\n            @click=${() => this.activeView = 'finops'}>\n             FinOps Dashboard\n          </button>\n        </div>\n\n        <!-- Workflow Builder View -->\n        <div class=\"view-content ${this.activeView !== 'workflow' ? 'hidden' : ''}\">\n          <!-- Left Panel - Approval Palette -->\n          <div class=\"left-panel\">\n            <approval-palette></approval-palette>\n          </div>\n\n          <!-- Main Content -->\n          <div class=\"main-content\">\n          <!-- Toolbar -->\n          <div class=\"toolbar\">\n            <button @click=${() => this.saveWorkflow()} ?disabled=${this.isLoading}>\n               Save\n            </button>\n            <button @click=${() => this.validateWorkflow()} ?disabled=${this.isLoading}>\n               Validate\n            </button>\n            <button @click=${() => this.deployWorkflow()} class=\"primary\" ?disabled=${this.isLoading}>\n               Deploy\n            </button>\n            <button @click=${() => this.testWorkflow()} ?disabled=${this.isLoading}>\n               Test\n            </button>\n            <button @click=${() => this.viewSampleRequest()} ?disabled=${this.isLoading}>\n               View Sample Request\n            </button>\n            \n            <div class=\"status-indicator ${this.getStatusIndicator()}\">\n              ${this.getStatusText()}\n            </div>\n          </div>\n\n          <!-- Workflow Info with Tool Buttons -->\n          ${this.workflow ? html`\n            <div class=\"workflow-info\">\n              <div class=\"workflow-title\">\n                <h3>${this.workflow.name}</h3>\n                <p>${this.workflow.nodes.length} nodes, ${this.workflow.connections.length} connections</p>\n              </div>\n              <div class=\"workflow-tools\">\n                <button @click=${() => this.clearCanvas()} title=\"Clear Canvas\" style=\"background: #dc3545;\"></button>\n                <button @click=${() => this.createSampleWorkflow()} title=\"Create Sample Workflow\" style=\"background: #fd7e14;\"></button>\n                <button @click=${() => this.autoArrange()} title=\"Auto Arrange\" style=\"background: #20c997;\"></button>\n              </div>\n              <div class=\"workflow-hints\">\n                <p> Try: 1) Click  for sample workflow 2) Click elements in left panel to add 3) Use  to reorder</p>\n              </div>\n            </div>\n          ` : ''}\n\n          <!-- Canvas Container -->\n          <div class=\"canvas-container\">\n            ${this.isLoading ? html`\n              <div class=\"loading-overlay\">\n                <div class=\"loading-spinner\"></div>\n              </div>\n            ` : ''}\n            \n            <approval-canvas \n              .workflow=${this.workflow}\n              .selectedNodeId=${this.selectedNodeId}>\n            </approval-canvas>\n          </div>\n        </div>\n\n          <!-- Right Panel - Properties -->\n          <div class=\"right-panel\">\n            <approval-properties \n              .selectedNodeId=${this.selectedNodeId}\n              .workflow=${this.workflow}>\n            </approval-properties>\n          </div>\n        </div>\n\n        <!-- FinOps Dashboard View -->\n        <div class=\"view-content ${this.activeView !== 'finops' ? 'hidden' : ''}\">\n          <finops-dashboard></finops-dashboard>\n        </div>\n      </div>\n    `;\n  }\n}\n","import { LitElement, html, css } from 'lit';\nimport { customElement, property } from 'lit/decorators.js';\nimport { Connection, ApprovalNode } from '../types';\n\n@customElement('connection-layer')\nexport class ConnectionLayer extends LitElement {\n  @property({ type: Array }) connections: Connection[] = [];\n  @property({ type: Array }) nodes: ApprovalNode[] = [];\n\n  static styles = css`\n    :host {\n      display: block;\n      width: 100%;\n      height: 100%;\n      position: absolute;\n      top: 0;\n      left: 0;\n      pointer-events: none;\n      z-index: 1;\n    }\n\n    .connections-container {\n      position: absolute;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      pointer-events: none;\n    }\n\n    .connection-line {\n      position: absolute;\n      height: 4px;\n      background: #3b82f6;\n      border-radius: 2px;\n      z-index: 1;\n    }\n\n    .connection-line.approval {\n      background: #10b981;\n    }\n\n    .connection-line.rejection {\n      background: #ef4444;\n    }\n\n    .connection-line.timeout {\n      background: #f59e0b;\n    }\n\n    .connection-line:hover {\n      height: 6px;\n    }\n  `;\n\n  private getNodePosition(nodeId: string): { x: number; y: number } | null {\n    const node = this.nodes.find(n => n.id === nodeId);\n    if (!node) return null;\n    \n    return {\n      x: node.position.x + 100, // Center of node (200px width / 2)\n      y: node.position.y + 40   // Center of node (80px height / 2)\n    };\n  }\n\n  private getConnectionPath(connection: Connection): string {\n    const fromPos = this.getNodePosition(connection.from);\n    const toPos = this.getNodePosition(connection.to);\n    \n    console.log(` Calculating path for ${connection.from}  ${connection.to}:`, {\n      fromPos,\n      toPos,\n      hasFrom: !!fromPos,\n      hasTo: !!toPos\n    });\n    \n    if (!fromPos || !toPos) {\n      console.log(` Missing position data for connection ${connection.id}`);\n      return '';\n    }\n\n    // Calculate control points for smooth curve\n    const dx = toPos.x - fromPos.x;\n    const dy = toPos.y - fromPos.y;\n    const distance = Math.sqrt(dx * dx + dy * dy);\n    \n    // Control point offset (adjust for curve smoothness)\n    const offset = Math.min(distance * 0.3, 100);\n    \n    const cp1x = fromPos.x + offset;\n    const cp1y = fromPos.y;\n    const cp2x = toPos.x - offset;\n    const cp2y = toPos.y;\n\n    const path = `M ${fromPos.x} ${fromPos.y} C ${cp1x} ${cp1y}, ${cp2x} ${cp2y}, ${toPos.x} ${toPos.y}`;\n    console.log(` Generated path: ${path}`);\n    \n    return path;\n  }\n\n  render() {\n    console.log(' ConnectionLayer render:', {\n      connections: this.connections.length,\n      nodes: this.nodes.length\n    });\n    \n    // Add a simple test to see if this component is rendering at all\n    console.log(' ConnectionLayer component is rendering!');\n\n        return html`\n          <div class=\"connections-container\">\n            ${this.connections.map((connection, index) => {\n              const fromPos = this.getNodePosition(connection.from);\n              const toPos = this.getNodePosition(connection.to);\n              \n              console.log(` Connection ${index + 1}:`, {\n                id: connection.id,\n                from: connection.from,\n                to: connection.to,\n                fromPos,\n                toPos\n              });\n              \n              if (!fromPos || !toPos) return html``;\n              \n              const dx = toPos.x - fromPos.x;\n              const dy = toPos.y - fromPos.y;\n              const distance = Math.sqrt(dx * dx + dy * dy);\n              const angle = Math.atan2(dy, dx) * 180 / Math.PI;\n              \n              return html`\n                <div \n                  class=\"connection-line ${connection.type}\"\n                  style=\"\n                    left: ${fromPos.x}px;\n                    top: ${fromPos.y}px;\n                    width: ${distance}px;\n                    transform: rotate(${angle}deg);\n                    transform-origin: 0 0;\n                  \"\n                  data-connection-id=${connection.id}\n                  data-from=${connection.from}\n                  data-to=${connection.to}>\n                </div>\n              `;\n            })}\n          </div>\n        `;\n  }\n}\n","import { LitElement, html, css } from 'lit';\nimport { customElement, property, state } from 'lit/decorators.js';\nimport { ApprovalWorkflow, ApprovalNode, Position } from '../types';\nimport { eventBus, EVENTS } from '../utils/event-bus';\nimport './connection-layer';\n\n@customElement('approval-canvas')\nexport class ApprovalCanvas extends LitElement {\n  @property({ type: Object }) workflow: ApprovalWorkflow | null = null;\n  @property({ type: String }) selectedNodeId: string | null = null;\n  @state() private canvasSize: { width: number; height: number } = { width: 800, height: 600 };\n  @state() private viewportSize: { width: number; height: number } = { width: 800, height: 600 };\n\n  static styles = css`\n    :host {\n      display: block;\n      height: 100%;\n      width: 100%;\n      position: relative;\n    }\n\n    .canvas {\n      height: 100%;\n      width: 100%;\n      background: \n        radial-gradient(circle, #e5e7eb 1px, transparent 1px);\n      background-size: 20px 20px;\n      background-position: 0 0, 10px 10px;\n      position: relative;\n      overflow: auto;\n      cursor: grab;\n    }\n\n    .canvas:active {\n      cursor: grabbing;\n    }\n\n\n    .canvas-content {\n      min-width: 100%;\n      width: 100%;\n      min-height: 100%;\n      height: 100%;\n      position: relative;\n    }\n\n    .nodes-container {\n      position: relative;\n      width: 100%;\n      height: 100%;\n      display: grid;\n      grid-template-columns: repeat(auto-fill, 200px);\n      gap: 30px;\n      padding: 20px;\n      align-content: start;\n      justify-content: start;\n    }\n\n    .connections-layer {\n      position: absolute;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      pointer-events: none;\n      z-index: 1;\n    }\n\n    .drop-zone {\n      position: absolute;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      z-index: 0;\n      pointer-events: none;\n    }\n\n    .drop-zone.drag-over {\n      background: rgba(59, 130, 246, 0.1);\n      pointer-events: all;\n    }\n\n    .canvas-header {\n      position: absolute;\n      top: 1rem;\n      left: 1rem;\n      background: rgba(255, 255, 255, 0.95);\n      padding: 0.5rem 1rem;\n      border-radius: 0.5rem;\n      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n      z-index: 5;\n      border: 1px solid #e5e7eb;\n    }\n\n    .canvas-header h3 {\n      margin: 0;\n      font-size: 1rem;\n      font-weight: 600;\n      color: #374151;\n    }\n\n    .canvas-header p {\n      margin: 0.25rem 0 0 0;\n      font-size: 0.875rem;\n      color: #6b7280;\n    }\n\n    .canvas-controls {\n      position: absolute;\n      top: 1rem;\n      right: 1rem;\n      display: flex;\n      gap: 0.5rem;\n      z-index: 10;\n    }\n\n    .canvas-controls button {\n      padding: 0.5rem;\n      border: 1px solid #d1d5db;\n      border-radius: 0.375rem;\n      background: rgba(255, 255, 255, 0.9);\n      color: #374151;\n      cursor: pointer;\n      font-size: 0.875rem;\n      transition: all 0.2s;\n    }\n\n    .canvas-controls button:hover {\n      background: #f9fafb;\n      border-color: #9ca3af;\n    }\n\n    .canvas-controls button.active {\n      background: #3b82f6;\n      color: #ffffff;\n      border-color: #3b82f6;\n    }\n  `;\n\n  private resizeObserver: ResizeObserver | null = null;\n\n  connectedCallback() {\n    super.connectedCallback();\n    this.setupEventListeners();\n    this.setupResizeObserver();\n    this.addEventListener('node-move-up', this.onNodeMoveUp);\n    this.addEventListener('node-move-down', this.onNodeMoveDown);\n  }\n\n  disconnectedCallback() {\n    super.disconnectedCallback();\n    this.removeEventListeners();\n    this.cleanupResizeObserver();\n  }\n\n  private setupEventListeners(): void {\n    eventBus.on(EVENTS.NODE_ADDED, this.onNodeAdded.bind(this));\n    eventBus.on(EVENTS.NODE_DELETED, this.onNodeDeleted.bind(this));\n    eventBus.on(EVENTS.NODE_MOVED, this.onNodeMoved.bind(this));\n    eventBus.on(EVENTS.WORKFLOW_UPDATED, this.onWorkflowUpdated.bind(this));\n    eventBus.on('node-move-up', this.onNodeMoveUpEventBus.bind(this));\n    eventBus.on('node-move-down', this.onNodeMoveDownEventBus.bind(this));\n    eventBus.on('template-add', this.onTemplateAdd.bind(this));\n    // Listen for property changes to update the workflow\n    this.addEventListener('property-changed', this.onPropertyChanged);\n    eventBus.on('property-changed', this.onPropertyChangedEventBus);\n  }\n\n  private removeEventListeners(): void {\n    eventBus.off(EVENTS.NODE_ADDED, this.onNodeAdded.bind(this));\n    eventBus.off(EVENTS.NODE_DELETED, this.onNodeDeleted.bind(this));\n    eventBus.off(EVENTS.NODE_MOVED, this.onNodeMoved.bind(this));\n    eventBus.off(EVENTS.WORKFLOW_UPDATED, this.onWorkflowUpdated.bind(this));\n    eventBus.off('node-move-up', this.onNodeMoveUpEventBus.bind(this));\n    eventBus.off('node-move-down', this.onNodeMoveDownEventBus.bind(this));\n    eventBus.off('template-add', this.onTemplateAdd.bind(this));\n    this.removeEventListener('property-changed', this.onPropertyChanged);\n    eventBus.off('property-changed', this.onPropertyChangedEventBus);\n  }\n\n  private setupResizeObserver(): void {\n    if (typeof ResizeObserver !== 'undefined') {\n      this.resizeObserver = new ResizeObserver((entries) => {\n        for (const entry of entries) {\n          const { width, height } = entry.contentRect;\n          this.updateCanvasSize(width, height);\n        }\n      });\n\n      // Wait for the canvas element to be available\n      this.updateComplete.then(() => {\n        const canvas = this.shadowRoot?.querySelector('.canvas');\n        if (canvas) {\n          this.resizeObserver?.observe(canvas);\n        }\n      });\n    }\n  }\n\n  private cleanupResizeObserver(): void {\n    if (this.resizeObserver) {\n      this.resizeObserver.disconnect();\n      this.resizeObserver = null;\n    }\n  }\n\n  private updateCanvasSize(width: number, height: number): void {\n    this.canvasSize = { width, height };\n    this.viewportSize = { \n      width: Math.max(800, width - 20), // Very generous width for wide screens\n      height: Math.max(500, height - 80) \n    };\n    \n    console.log('Canvas resized:', { canvas: this.canvasSize, viewport: this.viewportSize });\n    \n    // Check if any nodes are outside the visible area and reposition if needed\n    this.repositionNodesIfNeeded();\n  }\n\n  private repositionNodesIfNeeded(): void {\n    if (!this.workflow) return;\n\n    let needsRepositioning = false;\n    const { width: maxWidth, height: maxHeight } = this.viewportSize;\n\n    // Check if any nodes are outside the visible area\n    for (const node of this.workflow.nodes) {\n      if (node.position.x > maxWidth - 200 || node.position.y > maxHeight - 100) {\n        needsRepositioning = true;\n        break;\n      }\n    }\n\n    if (needsRepositioning) {\n      console.log('Repositioning nodes to fit within visible area');\n      this.repositionAllNodes();\n    }\n  }\n\n  private repositionAllNodes(): void {\n    if (!this.workflow) return;\n\n    const { width: maxWidth, height: maxHeight } = this.viewportSize;\n    const gridSize = 180; // Reduced spacing for more compact layout\n    const startX = 80;\n    const startY = 80;\n\n    this.workflow.nodes.forEach((node, index) => {\n      const x = startX + (index * gridSize) % (maxWidth - 200);\n      const y = startY + Math.floor((index * gridSize) / (maxWidth - 200)) * 80;\n      \n      node.position = {\n        x: Math.min(x, maxWidth - 200),\n        y: Math.min(y, maxHeight - 100)\n      };\n    });\n\n    this.updateConnections();\n    eventBus.emit(EVENTS.WORKFLOW_UPDATED, this.workflow);\n    this.requestUpdate();\n  }\n\n  private onNodeAdded(node: ApprovalNode): void {\n    if (this.workflow) {\n      this.workflow.nodes.push(node);\n      this.requestUpdate();\n    }\n  }\n\n  private onNodeDeleted(nodeId: string): void {\n    if (this.workflow) {\n      this.workflow.nodes = this.workflow.nodes.filter(n => n.id !== nodeId);\n      this.workflow.connections = this.workflow.connections.filter(\n        c => c.from !== nodeId && c.to !== nodeId\n      );\n      this.requestUpdate();\n    }\n  }\n\n  private onNodeMoved(data: { nodeId: string; position: Position }): void {\n    if (this.workflow) {\n      const node = this.workflow.nodes.find(n => n.id === data.nodeId);\n      if (node) {\n        node.position = data.position;\n        node.updatedAt = new Date();\n        this.requestUpdate();\n      }\n    }\n  }\n\n  private onWorkflowUpdated(workflow: ApprovalWorkflow): void {\n    console.log(' Workflow updated in canvas:', workflow.nodes.length, 'nodes');\n    this.workflow = workflow;\n    this.requestUpdate();\n    \n    // Force all nodes to recalculate their step numbers\n    setTimeout(() => {\n      this.updateAllStepNumbers();\n    }, 100);\n  }\n\n  private updateAllStepNumbers(): void {\n    const allNodes = this.shadowRoot?.querySelectorAll('approval-node');\n    if (allNodes) {\n      allNodes.forEach((node: any) => {\n        if (node.forceStepNumberUpdate) {\n          node.forceStepNumberUpdate();\n        }\n      });\n    }\n  }\n\n  private onNodeMoveUp = (event: CustomEvent): void => {\n    console.log(' Canvas received move-up event:', event.detail);\n    this.moveNode(event.detail.node, -1);\n  }\n\n  private onNodeMoveDown = (event: CustomEvent): void => {\n    console.log(' Canvas received move-down event:', event.detail);\n    this.moveNode(event.detail.node, 1);\n  }\n\n  private onNodeMoveUpEventBus = (data: { node: ApprovalNode }): void => {\n    console.log(' Canvas received move-up event via event bus:', data);\n    this.moveNode(data.node, -1);\n  }\n\n  private onNodeMoveDownEventBus = (data: { node: ApprovalNode }): void => {\n    console.log(' Canvas received move-down event via event bus:', data);\n    this.moveNode(data.node, 1);\n  }\n\n  private onTemplateAdd = (data: { template: any }): void => {\n    console.log(' Adding template to workflow:', data.template);\n    // TODO: Implement template addition\n  }\n\n\n  private onPropertyChanged = (event: CustomEvent): void => {\n    const { nodeId, path, value } = event.detail;\n    this.updateWorkflowNodeProperty(nodeId, path, value);\n  }\n\n  private onPropertyChangedEventBus = (data: { nodeId: string; path: string; value: any }): void => {\n    this.updateWorkflowNodeProperty(data.nodeId, data.path, data.value);\n  }\n\n  private updateWorkflowNodeProperty(nodeId: string, path: string, value: any): void {\n    if (!this.workflow) return;\n\n    const node = this.workflow.nodes.find(n => n.id === nodeId);\n    if (!node) return;\n\n    const keys = path.split('.');\n    let current: any = node;\n    \n    // Navigate to the parent object\n    for (let i = 0; i < keys.length - 1; i++) {\n      if (!current[keys[i]]) {\n        current[keys[i]] = {};\n      }\n      current = current[keys[i]];\n    }\n    \n    // Set the new value\n    current[keys[keys.length - 1]] = value;\n    node.updatedAt = new Date();\n    this.workflow.updatedAt = new Date();\n    \n    // Emit workflow updated event to notify other components\n    eventBus.emit(EVENTS.WORKFLOW_UPDATED, this.workflow);\n    \n    console.log(` Workflow updated: Node ${node.name} - ${path} = ${value}`);\n  }\n\n  private moveNode(node: ApprovalNode, direction: number): void {\n    if (!this.workflow) return;\n\n    // Find the current index of the node in the workflow array\n    const currentIndex = this.workflow.nodes.findIndex(n => n.id === node.id);\n    \n    console.log(' Current node order:', this.workflow.nodes.map(n => n.name));\n    console.log(' Moving node:', node.name, 'from index:', currentIndex, 'direction:', direction);\n\n    if (currentIndex === -1) {\n      console.log(' Node not found in workflow');\n      return;\n    }\n\n    const newIndex = currentIndex + direction;\n    if (newIndex < 0 || newIndex >= this.workflow.nodes.length) {\n      console.log(' Cannot move node - would be out of bounds');\n      return;\n    }\n\n    // Remove the node from its current position\n    const [movedNode] = this.workflow.nodes.splice(currentIndex, 1);\n    \n    // Insert it at the new position\n    this.workflow.nodes.splice(newIndex, 0, movedNode);\n\n    console.log(' New node order:', this.workflow.nodes.map(n => n.name));\n\n    // Update connections\n    this.updateConnections();\n    \n    // Force a complete re-render by temporarily clearing and re-setting workflow\n    const tempWorkflow = this.workflow;\n    this.workflow = null;\n    this.requestUpdate();\n    \n    // Re-set the workflow on the next tick to force complete re-render\n    setTimeout(() => {\n      this.workflow = tempWorkflow;\n      eventBus.emit(EVENTS.WORKFLOW_UPDATED, this.workflow);\n      this.requestUpdate();\n      \n      // Force all nodes to recalculate step numbers\n      setTimeout(() => {\n        this.updateAllStepNumbers();\n      }, 50);\n    }, 10);\n    \n    console.log(' Node moved successfully');\n  }\n\n  private updateConnections(): void {\n    if (!this.workflow) return;\n\n    // Sort nodes by x position\n    const sortedNodes = [...this.workflow.nodes].sort((a, b) => a.position.x - b.position.x);\n    \n    // Create new connections following the order\n    this.workflow.connections = [];\n    for (let i = 0; i < sortedNodes.length - 1; i++) {\n      this.workflow.connections.push({\n        id: `conn_${sortedNodes[i].id}_to_${sortedNodes[i + 1].id}`,\n        from: sortedNodes[i].id,\n        to: sortedNodes[i + 1].id,\n        type: 'approval' as const\n      });\n    }\n\n    console.log(' Updated connections:', this.workflow.connections.length);\n    \n    // Force step number updates on all nodes\n    this.updateStepNumbers();\n  }\n\n  private updateStepNumbers(): void {\n    // Force all nodes to recalculate their step numbers\n    const allNodes = this.shadowRoot?.querySelectorAll('approval-node');\n    allNodes?.forEach(node => {\n      (node as any).forceStepNumberUpdate();\n    });\n    console.log(' Forced step number updates on all nodes');\n  }\n\n  private debugConnections(): void {\n    if (!this.workflow) {\n      console.log(' No workflow to debug');\n      return;\n    }\n\n    console.log(' === CONNECTION DEBUG ===');\n    console.log(' Total connections:', this.workflow.connections.length);\n    \n    this.workflow.connections.forEach((conn, index) => {\n      const fromNode = this.workflow!.nodes.find(n => n.id === conn.from);\n      const toNode = this.workflow!.nodes.find(n => n.id === conn.to);\n      \n      console.log(` Connection ${index + 1}:`, {\n        id: conn.id,\n        type: conn.type,\n        from: fromNode ? `${fromNode.name} (${fromNode.position.x}, ${fromNode.position.y})` : 'NOT FOUND',\n        to: toNode ? `${toNode.name} (${toNode.position.x}, ${toNode.position.y})` : 'NOT FOUND'\n      });\n    });\n    \n    console.log(' === END CONNECTION DEBUG ===');\n  }\n\n  private debugEverything(): void {\n    console.log(' === COMPLETE DEBUG ===');\n    console.log(' Workflow exists:', !!this.workflow);\n    if (this.workflow) {\n      console.log(' Nodes count:', this.workflow.nodes.length);\n      console.log(' Connections count:', this.workflow.connections.length);\n      console.log(' Canvas size:', this.shadowRoot?.querySelector('.canvas')?.getBoundingClientRect());\n      console.log(' Canvas content size:', this.shadowRoot?.querySelector('.canvas-content')?.getBoundingClientRect());\n      console.log(' Connection layer size:', this.shadowRoot?.querySelector('.connections-layer')?.getBoundingClientRect());\n      console.log(' All nodes:', this.workflow.nodes.map(n => `${n.name} at (${n.position.x}, ${n.position.y})`));\n      console.log(' All connections:', this.workflow.connections.map(c => `${c.from}  ${c.to}`));\n    }\n    console.log(' === END COMPLETE DEBUG ===');\n  }\n\n  private onCanvasClick(event: MouseEvent): void {\n    // Deselect all nodes when clicking on canvas\n    if (event.target === this.shadowRoot?.querySelector('.canvas')) {\n      eventBus.emit(EVENTS.NODE_SELECTED, null);\n    }\n  }\n\n\n  private addNode(type: string, position: Position): void {\n    if (!this.workflow) return;\n\n    console.log(`Adding node of type: ${type}`);\n\n    const node: ApprovalNode = {\n      id: `node_${Date.now()}`,\n      type: type as any,\n      name: this.getDefaultNodeName(type),\n      position: { x: 0, y: 0 }, // CSS Grid will handle positioning\n      configuration: this.getDefaultConfiguration(type),\n      createdAt: new Date(),\n      updatedAt: new Date()\n    };\n\n    this.workflow.nodes.push(node);\n    eventBus.emit(EVENTS.NODE_ADDED, node);\n    eventBus.emit(EVENTS.WORKFLOW_UPDATED, this.workflow);\n    this.requestUpdate();\n  }\n\n  private getDefaultNodeName(type: string): string {\n    const names = {\n      'start': 'Start',\n      'end': 'End',\n      'approver': 'Approver',\n      'condition': 'Condition',\n      'parallel': 'Parallel Approvers'\n    };\n    return names[type as keyof typeof names] || 'Node';\n  }\n\n  private getDefaultConfiguration(type: string): any {\n    const configs = {\n      'approver': { approvalType: 'single', timeout: 7 },\n      'condition': { conditionType: 'amount', operator: 'greaterThan' },\n      'parallel': { approvalType: 'all', timeout: 7, parallelCount: 2 },\n      'start': {},\n      'end': {}\n    };\n    return configs[type as keyof typeof configs] || {};\n  }\n\n  private onZoomIn(): void {\n    // TODO: Implement zoom functionality\n    console.log('Zoom in');\n  }\n\n  private onZoomOut(): void {\n    // TODO: Implement zoom functionality\n    console.log('Zoom out');\n  }\n\n  private onFitToScreen(): void {\n    // TODO: Implement fit to screen functionality\n    console.log('Fit to screen');\n  }\n\n  private clearCanvas(): void {\n    if (this.workflow) {\n      this.workflow.nodes = [];\n      this.workflow.connections = [];\n      eventBus.emit(EVENTS.WORKFLOW_UPDATED, this.workflow);\n      this.requestUpdate();\n      console.log('Canvas cleared');\n    }\n  }\n\n  private debugPositions(): void {\n    if (this.workflow) {\n      console.log('=== NODE POSITIONS DEBUG ===');\n      this.workflow.nodes.forEach((node, index) => {\n        console.log(`Node ${index + 1} (${node.type}): x=${node.position.x}, y=${node.position.y}`);\n      });\n      console.log('============================');\n    }\n  }\n\n  private spreadNodes(): void {\n    if (this.workflow) {\n      const gridSize = 250;\n      const startX = 150;\n      const startY = 150;\n      const maxWidth = 1200;\n      \n      this.workflow.nodes.forEach((node, index) => {\n        node.position = {\n          x: startX + (index * gridSize) % maxWidth,\n          y: startY + Math.floor((index * gridSize) / maxWidth) * 120\n        };\n      });\n      \n      eventBus.emit(EVENTS.WORKFLOW_UPDATED, this.workflow);\n      this.requestUpdate();\n      console.log('Nodes spread out in grid pattern');\n    }\n  }\n\n  private addTestNode(): void {\n    // Add a test node at a specific position to verify positioning works\n    const testPosition: Position = { x: 100, y: 300 };\n    this.addNode('approver', testPosition);\n    console.log('Added test node at position:', testPosition);\n  }\n\n\n  private autoArrange(): void {\n    if (!this.workflow || this.workflow.nodes.length === 0) {\n      console.log(' No workflow or nodes to arrange');\n      return;\n    }\n\n    console.log(' Auto-arranging', this.workflow.nodes.length, 'nodes');\n\n    // Sort nodes by type priority (start first, end last)\n    const typePriority = { 'start': 0, 'approver': 1, 'condition': 2, 'parallel': 3, 'end': 4 };\n    const sortedNodes = [...this.workflow.nodes].sort((a, b) => {\n      const aPriority = typePriority[a.type] ?? 5;\n      const bPriority = typePriority[b.type] ?? 5;\n      return aPriority - bPriority;\n    });\n\n    console.log(' Sorted nodes by type:', sortedNodes.map(n => `${n.type}: ${n.name}`));\n\n    // Arrange nodes using dynamic viewport size with improved spacing\n    const { width: maxWidth, height: maxHeight } = this.viewportSize;\n    const gridSize = 180; // Reduced spacing for more compact layout\n    const startX = 80;\n    const startY = 80;\n\n    sortedNodes.forEach((node, index) => {\n      const x = startX + (index * gridSize) % (maxWidth - 200);\n      const y = startY + Math.floor((index * gridSize) / (maxWidth - 200)) * 80;\n      \n      const newPosition = {\n        x: Math.min(x, maxWidth - 200),\n        y: Math.min(y, maxHeight - 100)\n      };\n      console.log(` Moving ${node.name} from (${node.position.x}, ${node.position.y}) to (${newPosition.x}, ${newPosition.y})`);\n      node.position = newPosition;\n    });\n\n    // Update connections to follow the new order\n    this.workflow.connections = [];\n    for (let i = 0; i < sortedNodes.length - 1; i++) {\n      this.workflow.connections.push({\n        from: sortedNodes[i].id,\n        to: sortedNodes[i + 1].id\n      });\n    }\n\n    console.log(' Created', this.workflow.connections.length, 'connections');\n\n    eventBus.emit(EVENTS.WORKFLOW_UPDATED, this.workflow);\n    this.requestUpdate();\n    console.log(' Auto-arranged nodes in logical workflow order');\n  }\n\n  render() {\n    if (!this.workflow) {\n      return html`\n        <div class=\"canvas\">\n          <div class=\"canvas-header\">\n            <h3>No Workflow Loaded</h3>\n            <p>Create a new workflow or load an existing one</p>\n          </div>\n        </div>\n      `;\n    }\n\n    return html`\n          <div class=\"canvas\"\n               @click=${this.onCanvasClick}>\n        \n\n\n        <!-- Drop Zone -->\n        <div class=\"drop-zone\"></div>\n\n        <!-- Canvas Content -->\n        <div class=\"canvas-content\">\n          <!-- Connections Layer - Temporarily disabled -->\n          <!-- <div class=\"connections-layer\">\n            <connection-layer \n              .connections=${this.workflow.connections}\n              .nodes=${this.workflow.nodes}>\n            </connection-layer>\n          </div> -->\n\n          <!-- Nodes Container -->\n          <div class=\"nodes-container\">\n            ${this.workflow.nodes.map(node => html`\n              <approval-node \n                .node=${node}\n                .isSelected=${node.id === this.selectedNodeId}\n                @node-select=${() => eventBus.emit(EVENTS.NODE_SELECTED, node)}\n                @node-edit=${() => eventBus.emit(EVENTS.NODE_EDITED, node)}\n                @node-delete=${() => eventBus.emit(EVENTS.NODE_DELETED, node.id)}\n                @node-move=${(e: CustomEvent) => eventBus.emit(EVENTS.NODE_MOVED, e.detail)}>\n              </approval-node>\n            `)}\n          </div>\n        </div>\n      </div>\n    `;\n  }\n}\n","import { LitElement, html, css } from 'lit';\nimport { customElement, property, state } from 'lit/decorators.js';\nimport { ApprovalNode, Position } from '../types';\nimport { eventBus, EVENTS } from '../utils/event-bus';\n\n@customElement('approval-node')\nexport class ApprovalNode extends LitElement {\n  @property({ type: Object }) node: ApprovalNode;\n  @property({ type: Boolean }) isSelected = false;\n  @state() private cachedStepNumber: string = '?';\n  @state() private lastPositionX: number = 0;\n\n  static styles = css`\n    :host {\n      position: relative;\n      z-index: 10;\n    }\n\n    .node {\n      position: relative;\n      width: 160px;\n      min-height: 80px;\n      background: #ffffff;\n      border: 2px solid #d1d5db;\n      border-radius: 0.75rem;\n      box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);\n      cursor: pointer;\n      transition: all 0.2s;\n      user-select: text;\n      z-index: 1;\n    }\n\n    .node:hover {\n      border-color: #9ca3af;\n      box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);\n    }\n\n    .node.selected {\n      border-color: #3b82f6;\n      box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);\n    }\n\n\n    .node.start {\n      border-color: #10b981;\n      background: linear-gradient(135deg, #ecfdf5 0%, #d1fae5 100%);\n    }\n\n    .node.end {\n      border-color: #ef4444;\n      background: linear-gradient(135deg, #fef2f2 0%, #fecaca 100%);\n    }\n\n    .node.approver {\n      border-color: #3b82f6;\n      background: linear-gradient(135deg, #eff6ff 0%, #dbeafe 100%);\n    }\n\n    .node.condition {\n      border-color: #f59e0b;\n      background: linear-gradient(135deg, #fffbeb 0%, #fef3c7 100%);\n    }\n\n    .node.parallel {\n      border-color: #8b5cf6;\n      background: linear-gradient(135deg, #faf5ff 0%, #e9d5ff 100%);\n    }\n\n    .node-header {\n      display: flex;\n      align-items: center;\n      padding: 0.75rem;\n      border-bottom: 1px solid #e5e7eb;\n    }\n\n    .node-icon {\n      font-size: 1.5rem;\n      margin-right: 0.5rem;\n    }\n\n    .node-title {\n      flex: 1;\n      font-weight: 600;\n      color: #374151;\n      font-size: 0.875rem;\n    }\n\n    .node-actions {\n      display: flex;\n      gap: 0.25rem;\n      justify-content: center;\n      padding: 0.5rem;\n      border-top: 1px solid #e5e7eb;\n    }\n\n    .node-actions button {\n      width: 24px;\n      height: 24px;\n      border: none;\n      border-radius: 0.25rem;\n      background: #f3f4f6;\n      color: #6b7280;\n      cursor: pointer;\n      font-size: 0.75rem;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      transition: all 0.2s;\n    }\n\n    .node-actions button:hover {\n      background: #e5e7eb;\n      color: #374151;\n    }\n\n    .node-actions button.delete:hover {\n      background: #fef2f2;\n      color: #dc2626;\n    }\n\n    .node-content {\n      padding: 0.75rem;\n    }\n\n    .node-info {\n      font-size: 0.75rem;\n      color: #6b7280;\n      line-height: 1.4;\n    }\n\n    .approver-info {\n      display: flex;\n      flex-direction: column;\n      gap: 0.25rem;\n    }\n\n    .approver-name {\n      font-weight: 500;\n      color: #374151;\n    }\n\n    .approval-type {\n      font-size: 0.75rem;\n      color: #6b7280;\n    }\n\n    .condition-info {\n      display: flex;\n      flex-direction: column;\n      gap: 0.25rem;\n    }\n\n    .condition-text {\n      font-weight: 500;\n      color: #374151;\n    }\n\n    .parallel-info {\n      display: flex;\n      flex-direction: column;\n      gap: 0.25rem;\n    }\n\n    .parallel-count {\n      font-weight: 500;\n      color: #374151;\n    }\n\n    /* Connection points removed - no longer needed for static layout */\n\n    .step-number {\n      position: absolute;\n      top: -10px;\n      left: -10px;\n      width: 24px;\n      height: 24px;\n      background: #3b82f6;\n      color: white;\n      border-radius: 50%;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      font-size: 12px;\n      font-weight: bold;\n      border: 2px solid white;\n      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n    }\n\n    .node.start .step-number {\n      background: #10b981;\n    }\n\n    .node.end .step-number {\n      background: #6b7280;\n    }\n  `;\n\n      connectedCallback() {\n        super.connectedCallback();\n        this.addEventListener('click', this.onNodeClick);\n        this.addEventListener('dblclick', this.onDoubleClick);\n        this.setupEventListeners();\n      }\n\n      disconnectedCallback() {\n        super.disconnectedCallback();\n        this.removeEventListener('click', this.onNodeClick);\n        this.removeEventListener('dblclick', this.onDoubleClick);\n        this.removeEventListeners();\n      }\n\n      private setupEventListeners(): void {\n        // Listen for property changes from the properties panel\n        this.addEventListener('property-changed', this.onPropertyChanged);\n        // Also listen via event bus for broader communication\n        eventBus.on('property-changed', this.onPropertyChangedEventBus);\n      }\n\n      private removeEventListeners(): void {\n        this.removeEventListener('property-changed', this.onPropertyChanged);\n        eventBus.off('property-changed', this.onPropertyChangedEventBus);\n      }\n\n      private onPropertyChanged = (event: CustomEvent): void => {\n        const { nodeId, path, value } = event.detail;\n        if (nodeId === this.node?.id) {\n          this.updateNodeProperty(path, value);\n        }\n      }\n\n      private onPropertyChangedEventBus = (data: { nodeId: string; path: string; value: any }): void => {\n        if (data.nodeId === this.node?.id) {\n          this.updateNodeProperty(data.path, data.value);\n        }\n      }\n\n      private updateNodeProperty(path: string, value: any): void {\n        if (!this.node) return;\n\n        const keys = path.split('.');\n        let current: any = this.node;\n        \n        // Navigate to the parent object\n        for (let i = 0; i < keys.length - 1; i++) {\n          if (!current[keys[i]]) {\n            current[keys[i]] = {};\n          }\n          current = current[keys[i]];\n        }\n        \n        // Set the new value\n        current[keys[keys.length - 1]] = value;\n        this.node.updatedAt = new Date();\n        \n        // Force a re-render to reflect the changes\n        this.requestUpdate();\n        \n        console.log(` Node ${this.node.name} updated: ${path} = ${value}`);\n      }\n\n  private onNodeClick(event: MouseEvent): void {\n    event.preventDefault();\n    event.stopPropagation();\n\n    // Emit selection event\n    if (this.node) {\n      this.dispatchEvent(new CustomEvent('node-select', {\n        detail: { node: this.node },\n        bubbles: true\n      }));\n    }\n  }\n\n  private onDoubleClick(): void {\n    this.dispatchEvent(new CustomEvent('node-edit', {\n      detail: { node: this.node },\n      bubbles: true\n    }));\n  }\n\n  private onEdit(): void {\n    this.dispatchEvent(new CustomEvent('node-edit', {\n      detail: { node: this.node },\n      bubbles: true\n    }));\n  }\n\n  private onDelete(): void {\n    if (confirm(`Delete \"${this.node.name}\"?`)) {\n      this.dispatchEvent(new CustomEvent('node-delete', {\n        detail: { nodeId: this.node.id },\n        bubbles: true\n      }));\n    }\n  }\n\n  private onMoveUp(): void {\n    console.log(' Move Up clicked for node:', this.node.name, this.node.id);\n    \n    // Try both event bus and DOM events\n    import('../utils/event-bus.js').then(({ eventBus }) => {\n      eventBus.emit('node-move-up', { node: this.node });\n    });\n    \n    this.dispatchEvent(new CustomEvent('node-move-up', {\n      detail: { node: this.node },\n      bubbles: true,\n      composed: true\n    }));\n  }\n\n  private onMoveDown(): void {\n    console.log(' Move Down clicked for node:', this.node.name, this.node.id);\n    \n    // Try both event bus and DOM events\n    import('../utils/event-bus.js').then(({ eventBus }) => {\n      eventBus.emit('node-move-down', { node: this.node });\n    });\n    \n    this.dispatchEvent(new CustomEvent('node-move-down', {\n      detail: { node: this.node },\n      bubbles: true,\n      composed: true\n    }));\n  }\n\n  private getNodeIcon(): string {\n    const icons = {\n      'start': '',\n      'end': '',\n      'approver': '',\n      'condition': '',\n      'parallel': ''\n    };\n    return icons[this.node.type] || '';\n  }\n\n  private getStepNumber(): string {\n    // Only recalculate if position has changed significantly\n    const currentX = this.node.position.x;\n    if (Math.abs(currentX - this.lastPositionX) < 5 && this.cachedStepNumber !== '?') {\n      return this.cachedStepNumber;\n    }\n    \n    return this.calculateStepNumber();\n  }\n\n  private calculateStepNumber(): string {\n    // Get the step number based on the node's index in the workflow\n    // Since we're using CSS Grid, we'll use the workflow order instead of position\n    const canvas = this.shadowRoot?.host.parentElement;\n    if (!canvas) return '?';\n    \n    // Get all approval-node elements and find this node's index\n    const allNodes = canvas.querySelectorAll('approval-node');\n    const nodeArray = Array.from(allNodes);\n    const index = nodeArray.indexOf(this.shadowRoot?.host);\n    \n    const stepNumber = index >= 0 ? (index + 1).toString() : '?';\n    \n    // Cache the result\n    this.cachedStepNumber = stepNumber;\n    this.lastPositionX = this.node.position.x;\n    \n    return stepNumber;\n  }\n\n  // Public method to force step number recalculation\n  public forceStepNumberUpdate(): void {\n    this.cachedStepNumber = '?';\n    this.lastPositionX = -999999; // Force recalculation\n    this.calculateStepNumber();\n  }\n\n  private getApproverDisplayText(): string {\n    if (!this.node.configuration.approver) {\n      return 'Select Approver';\n    }\n\n    if (Array.isArray(this.node.configuration.approver)) {\n      if (this.node.configuration.approver.length === 0) {\n        return 'Select Approver';\n      } else if (this.node.configuration.approver.length === 1) {\n        return this.node.configuration.approver[0];\n      } else {\n        return `${this.node.configuration.approver.length} approvers selected`;\n      }\n    } else {\n      return this.node.configuration.approver;\n    }\n  }\n\n  private getConditionDisplayText(): string {\n    if (!this.node.configuration.conditionType || !this.node.configuration.operator || !this.node.configuration.value) {\n      return 'Set Condition';\n    }\n\n    const conditionType = this.node.configuration.conditionType;\n    const operator = this.node.configuration.operator;\n    const value = this.node.configuration.value;\n\n    const operatorText = {\n      'greaterThan': '>',\n      'lessThan': '<',\n      'equals': '='\n    }[operator] || operator;\n\n    return `${conditionType} ${operatorText} ${value}`;\n  }\n\n  private getParallelDisplayText(): string {\n    const count = this.node.configuration.parallelCount || 2;\n    const approvalType = this.node.configuration.approvalType || 'all';\n    const typeText = approvalType === 'all' ? 'All must approve' : 'Any can approve';\n    return `${count} approvers - ${typeText}`;\n  }\n\n  private renderNodeContent(): any {\n    switch (this.node.type) {\n      case 'approver':\n        return html`\n          <div class=\"approver-info\">\n            <div class=\"approver-name\">\n              ${this.getApproverDisplayText()}\n            </div>\n            <div class=\"approval-type\">\n              ${this.node.configuration.approvalType || 'single'} approval\n              ${this.node.configuration.timeout ? `(${this.node.configuration.timeout}d timeout)` : ''}\n            </div>\n          </div>\n        `;\n      \n      case 'condition':\n        return html`\n          <div class=\"condition-info\">\n            <div class=\"condition-text\">\n              ${this.getConditionDisplayText()}\n            </div>\n          </div>\n        `;\n      \n      case 'parallel':\n        return html`\n          <div class=\"parallel-info\">\n            <div class=\"parallel-count\">\n              ${this.getParallelDisplayText()}\n            </div>\n          </div>\n        `;\n      \n      case 'start':\n        return html`\n          <div class=\"node-info\">\n            <div class=\"condition-text\">\n              ${this.node.configuration.triggerSource || 'Trigger Source'}\n            </div>\n          </div>\n        `;\n      \n      default:\n        return html`\n          <div class=\"node-info\">\n            ${this.node.name}\n          </div>\n        `;\n    }\n  }\n\n  render() {\n    if (!this.node) {\n      console.warn('ApprovalNode: No node data provided');\n      return html``;\n    }\n\n    return html`\n      <div \n        class=\"node ${this.node.type} ${this.isSelected ? 'selected' : ''} ${this.isDragging ? 'dragging' : ''}\">\n        \n        <!-- Node Header -->\n        <div class=\"node-header\">\n          <div class=\"node-icon\">${this.getNodeIcon()}</div>\n          <div class=\"node-title\">${this.node.name}</div>\n        </div>\n        \n        <!-- Step Number -->\n        <div class=\"step-number\">${this.getStepNumber()}</div>\n\n        <!-- Node Content -->\n        <div class=\"node-content\">\n          ${this.renderNodeContent()}\n        </div>\n\n        <!-- Node Actions (centered overlay) -->\n        <div class=\"node-actions\">\n          <button @click=${this.onMoveUp} title=\"Move Up\"></button>\n          <button @click=${this.onMoveDown} title=\"Move Down\"></button>\n          <button @click=${this.onEdit} title=\"Edit\"></button>\n          <button @click=${this.onDelete} class=\"delete\" title=\"Delete\"></button>\n        </div>\n\n            <!-- Connection points removed for static layout -->\n      </div>\n    `;\n  }\n}\n","import { LitElement, html, css } from 'lit';\nimport { customElement, state } from 'lit/decorators.js';\nimport { ApprovalTemplate } from '../types';\nimport { mockAPI } from '../services/mock-api';\n\n@customElement('approval-palette')\nexport class ApprovalPalette extends LitElement {\n  @state() private templates: ApprovalTemplate[] = [];\n  @state() private isLoading = false;\n\n  static styles = css`\n    :host {\n      display: block;\n      height: 100%;\n      background: #f8f9fa;\n    }\n\n    .palette {\n      height: 100%;\n      display: flex;\n      flex-direction: column;\n    }\n\n    .palette-header {\n      padding: 1rem;\n      border-bottom: 1px solid #e9ecef;\n      background: #ffffff;\n    }\n\n    .palette-header h3 {\n      margin: 0;\n      font-size: 1rem;\n      font-weight: 600;\n      color: #374151;\n    }\n\n    .palette-content {\n      flex: 1;\n      overflow-y: auto;\n      padding: 1rem;\n    }\n\n    .section {\n      margin-bottom: 2rem;\n    }\n\n    .section:last-child {\n      margin-bottom: 0;\n    }\n\n    .section-title {\n      font-size: 0.875rem;\n      font-weight: 600;\n      color: #6b7280;\n      margin-bottom: 0.75rem;\n      text-transform: uppercase;\n      letter-spacing: 0.05em;\n    }\n\n    .templates-grid {\n      display: grid;\n      gap: 0.75rem;\n    }\n\n    .template-item {\n      padding: 1rem;\n      background: #ffffff;\n      border: 1px solid #e5e7eb;\n      border-radius: 0.5rem;\n      cursor: grab;\n      transition: all 0.2s;\n      user-select: none;\n    }\n\n    .template-item:hover {\n      border-color: #3b82f6;\n      box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);\n      transform: translateY(-1px);\n    }\n\n    .template-item:active {\n      cursor: grabbing;\n      transform: scale(0.98);\n    }\n\n    .template-item.clickable {\n      cursor: pointer;\n    }\n\n    .template-item.clickable:hover {\n      transform: translateY(-1px);\n    }\n\n    .template-icon {\n      font-size: 2rem;\n      margin-bottom: 0.5rem;\n    }\n\n    .template-name {\n      font-weight: 600;\n      color: #374151;\n      margin-bottom: 0.25rem;\n    }\n\n    .template-description {\n      font-size: 0.75rem;\n      color: #6b7280;\n      line-height: 1.4;\n    }\n\n    .node-types-list {\n      display: flex;\n      flex-direction: column;\n      gap: 0.5rem;\n    }\n\n    .node-type-item {\n      display: flex;\n      align-items: center;\n      padding: 0.75rem;\n      background: #ffffff;\n      border: 1px solid #e5e7eb;\n      border-radius: 0.5rem;\n      cursor: grab;\n      transition: all 0.2s;\n      user-select: none;\n    }\n\n    .node-type-item:hover {\n      border-color: #3b82f6;\n      background: #f8fafc;\n    }\n\n    .node-type-item:active {\n      cursor: grabbing;\n      transform: scale(0.98);\n    }\n\n    .node-type-item.clickable {\n      cursor: pointer;\n    }\n\n    .node-type-item.clickable:hover {\n      transform: translateY(-1px);\n    }\n\n    .node-type-icon {\n      font-size: 1.5rem;\n      margin-right: 0.75rem;\n    }\n\n    .node-type-name {\n      font-weight: 500;\n      color: #374151;\n    }\n\n    .loading {\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      padding: 2rem;\n      color: #6b7280;\n    }\n\n    .loading-spinner {\n      width: 20px;\n      height: 20px;\n      border: 2px solid #e5e7eb;\n      border-top: 2px solid #3b82f6;\n      border-radius: 50%;\n      animation: spin 1s linear infinite;\n      margin-right: 0.5rem;\n    }\n\n    @keyframes spin {\n      0% { transform: rotate(0deg); }\n      100% { transform: rotate(360deg); }\n    }\n  `;\n\n  connectedCallback() {\n    super.connectedCallback();\n    this.loadTemplates();\n  }\n\n  private async loadTemplates(): Promise<void> {\n    this.isLoading = true;\n    try {\n      this.templates = await mockAPI.getApprovalTemplates();\n    } catch (error) {\n      console.error('Failed to load templates:', error);\n    } finally {\n      this.isLoading = false;\n    }\n  }\n\n  private onTemplateClick(template: ApprovalTemplate): void {\n    console.log('Template clicked:', template.id);\n    // Emit event to add template to workflow\n    import('../utils/event-bus.js').then(({ eventBus }) => {\n      eventBus.emit('template-add', { template });\n    });\n  }\n\n  private onNodeTypeClick(nodeType: string): void {\n    console.log(' PALETTE: Node type clicked:', nodeType);\n    console.log(' PALETTE: Emitting node-type-add event');\n    // Emit event to add node to workflow\n    import('../utils/event-bus.js').then(({ eventBus }) => {\n      eventBus.emit('node-type-add', { nodeType });\n      console.log(' PALETTE: Event emitted successfully');\n    });\n  }\n\n  private getNodeTypeIcon(type: string): string {\n    const icons = {\n      'start': '',\n      'end': '',\n      'approver': '',\n      'condition': '',\n      'parallel': ''\n    };\n    return icons[type as keyof typeof icons] || '';\n  }\n\n  private getNodeTypeName(type: string): string {\n    const names = {\n      'start': 'Start',\n      'end': 'End',\n      'approver': 'Approver',\n      'condition': 'Condition',\n      'parallel': 'Parallel'\n    };\n    return names[type as keyof typeof names] || type;\n  }\n\n  render() {\n    if (this.isLoading) {\n      return html`\n        <div class=\"palette\">\n          <div class=\"palette-header\">\n            <h3>Approval Builder</h3>\n          </div>\n          <div class=\"palette-content\">\n            <div class=\"loading\">\n              <div class=\"loading-spinner\"></div>\n              Loading templates...\n            </div>\n          </div>\n        </div>\n      `;\n    }\n\n    return html`\n      <div class=\"palette\">\n        <div class=\"palette-header\">\n          <h3>Approval Builder</h3>\n        </div>\n        \n        <div class=\"palette-content\">\n          <!-- Quick Templates -->\n          <div class=\"section\">\n            <div class=\"section-title\">Quick Templates</div>\n            <div class=\"templates-grid\">\n              ${this.templates.map(template => html`\n                  <div \n                    class=\"template-item clickable\"\n                    @click=${() => this.onTemplateClick(template)}>\n                  <div class=\"template-icon\">${template.icon}</div>\n                  <div class=\"template-name\">${template.name}</div>\n                  <div class=\"template-description\">${template.description}</div>\n                </div>\n              `)}\n            </div>\n          </div>\n\n          <!-- Node Types -->\n          <div class=\"section\">\n            <div class=\"section-title\">Approval Elements</div>\n            <div class=\"node-types-list\">\n              ${['start', 'approver', 'condition', 'parallel', 'end'].map(nodeType => html`\n                  <div \n                    class=\"node-type-item clickable\"\n                    @click=${() => this.onNodeTypeClick(nodeType)}>\n                  <div class=\"node-type-icon\">${this.getNodeTypeIcon(nodeType)}</div>\n                  <div class=\"node-type-name\">${this.getNodeTypeName(nodeType)}</div>\n                </div>\n              `)}\n            </div>\n          </div>\n        </div>\n      </div>\n    `;\n  }\n}\n","import { LitElement, html, css } from 'lit';\nimport { customElement, property, state } from 'lit/decorators.js';\nimport { ApprovalWorkflow, ApprovalNode, User } from '../types';\nimport { mockAPI } from '../services/mock-api';\n\n@customElement('approval-properties')\nexport class ApprovalProperties extends LitElement {\n  @property({ type: String }) selectedNodeId: string | null = null;\n  @property({ type: Object }) workflow: ApprovalWorkflow | null = null;\n  @state() private users: User[] = [];\n  @state() private isLoading = false;\n\n  static styles = css`\n    :host {\n      display: block;\n      height: 100%;\n      background: #f8f9fa;\n    }\n\n    .properties {\n      height: 100%;\n      display: flex;\n      flex-direction: column;\n    }\n\n    .properties-header {\n      padding: 1rem;\n      border-bottom: 1px solid #e9ecef;\n      background: #ffffff;\n    }\n\n    .properties-header h3 {\n      margin: 0;\n      font-size: 1rem;\n      font-weight: 600;\n      color: #374151;\n    }\n\n    .properties-content {\n      flex: 1;\n      overflow-y: auto;\n      padding: 1rem;\n    }\n\n    .no-selection {\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n      justify-content: center;\n      height: 100%;\n      color: #6b7280;\n      text-align: center;\n    }\n\n    .no-selection-icon {\n      font-size: 3rem;\n      margin-bottom: 1rem;\n      opacity: 0.5;\n    }\n\n    .no-selection h4 {\n      margin: 0 0 0.5rem 0;\n      font-size: 1rem;\n      font-weight: 600;\n    }\n\n    .no-selection p {\n      margin: 0;\n      font-size: 0.875rem;\n    }\n\n    .node-info {\n      background: #ffffff;\n      border: 1px solid #e5e7eb;\n      border-radius: 0.5rem;\n      padding: 1rem;\n      margin-bottom: 1rem;\n    }\n\n    .node-type {\n      display: inline-block;\n      padding: 0.25rem 0.5rem;\n      background: #f3f4f6;\n      color: #374151;\n      border-radius: 0.25rem;\n      font-size: 0.75rem;\n      font-weight: 500;\n      margin-bottom: 1rem;\n    }\n\n    .property-group {\n      margin-bottom: 1.5rem;\n    }\n\n    .property-group:last-child {\n      margin-bottom: 0;\n    }\n\n    .property-label {\n      display: block;\n      font-size: 0.875rem;\n      font-weight: 500;\n      color: #374151;\n      margin-bottom: 0.5rem;\n    }\n\n    .property-input {\n      width: 100%;\n      padding: 0.5rem;\n      border: 1px solid #d1d5db;\n      border-radius: 0.375rem;\n      font-size: 0.875rem;\n      color: #374151;\n      background: #ffffff;\n      transition: border-color 0.2s;\n    }\n\n    .property-input:focus {\n      outline: none;\n      border-color: #3b82f6;\n      box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);\n    }\n\n    .property-select {\n      width: 100%;\n      padding: 0.5rem;\n      border: 1px solid #d1d5db;\n      border-radius: 0.375rem;\n      font-size: 0.875rem;\n      color: #374151;\n      background: #ffffff;\n      cursor: pointer;\n    }\n\n    .property-select:focus {\n      outline: none;\n      border-color: #3b82f6;\n      box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);\n    }\n\n    .approver-selector {\n      position: relative;\n    }\n\n    .approver-list {\n      max-height: 200px;\n      overflow-y: auto;\n      border: 1px solid #d1d5db;\n      border-radius: 0.375rem;\n      background: #ffffff;\n      box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);\n    }\n\n    .approver-item {\n      padding: 0.75rem;\n      cursor: pointer;\n      border-bottom: 1px solid #f3f4f6;\n      transition: background-color 0.2s;\n    }\n\n    .approver-item:hover {\n      background: #f8fafc;\n    }\n\n    .approver-item.selected {\n      background: #dbeafe;\n      border-left: 3px solid #3b82f6;\n    }\n\n    .approver-item:last-child {\n      border-bottom: none;\n    }\n\n    .selected-indicator {\n      position: absolute;\n      right: 0.75rem;\n      top: 50%;\n      transform: translateY(-50%);\n      color: #10b981;\n      font-weight: bold;\n    }\n\n    .approver-name {\n      font-weight: 500;\n      color: #374151;\n    }\n\n    .approver-email {\n      font-size: 0.75rem;\n      color: #6b7280;\n    }\n\n    .loading {\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      padding: 2rem;\n      color: #6b7280;\n    }\n\n    .loading-spinner {\n      width: 20px;\n      height: 20px;\n      border: 2px solid #e5e7eb;\n      border-top: 2px solid #3b82f6;\n      border-radius: 50%;\n      animation: spin 1s linear infinite;\n      margin-right: 0.5rem;\n    }\n\n    @keyframes spin {\n      0% { transform: rotate(0deg); }\n      100% { transform: rotate(360deg); }\n    }\n\n    .form-fields-preview {\n      background: #f8f9fa;\n      border: 1px solid #e9ecef;\n      border-radius: 0.375rem;\n      padding: 0.75rem;\n      margin-top: 0.5rem;\n    }\n\n    .form-field {\n      padding: 0.5rem;\n      margin: 0.25rem 0;\n      background: #ffffff;\n      border: 1px solid #e5e7eb;\n      border-radius: 0.25rem;\n      font-size: 0.875rem;\n      color: #374151;\n    }\n\n    .form-note {\n      margin-top: 0.75rem;\n      padding: 0.5rem;\n      background: #eff6ff;\n      border: 1px solid #dbeafe;\n      border-radius: 0.25rem;\n      font-size: 0.75rem;\n      color: #1e40af;\n      line-height: 1.4;\n    }\n  `;\n\n  connectedCallback() {\n    super.connectedCallback();\n    this.loadUsers();\n  }\n\n  private async loadUsers(): Promise<void> {\n    this.isLoading = true;\n    try {\n      this.users = await mockAPI.getUsers();\n    } catch (error) {\n      console.error('Failed to load users:', error);\n    } finally {\n      this.isLoading = false;\n    }\n  }\n\n  private get selectedNode(): ApprovalNode | null {\n    if (!this.selectedNodeId || !this.workflow) return null;\n    return this.workflow.nodes.find(n => n.id === this.selectedNodeId) || null;\n  }\n\n  private onNameChange(event: Event): void {\n    const input = event.target as HTMLInputElement;\n    this.updateNodeProperty('name', input.value);\n  }\n\n  private onApprovalTypeChange(event: Event): void {\n    const select = event.target as HTMLSelectElement;\n    this.updateNodeProperty('configuration.approvalType', select.value);\n  }\n\n  private onApproverChange(event: Event): void {\n    const select = event.target as HTMLSelectElement;\n    this.updateNodeProperty('configuration.approver', select.value);\n  }\n\n  private onTimeoutChange(event: Event): void {\n    const input = event.target as HTMLInputElement;\n    this.updateNodeProperty('configuration.timeout', parseInt(input.value));\n  }\n\n  private onTriggerSourceChange(event: Event): void {\n    const select = event.target as HTMLSelectElement;\n    this.updateNodeProperty('configuration.triggerSource', select.value);\n  }\n\n  private onConditionTypeChange(event: Event): void {\n    const select = event.target as HTMLSelectElement;\n    this.updateNodeProperty('configuration.conditionType', select.value);\n  }\n\n  private onOperatorChange(event: Event): void {\n    const select = event.target as HTMLSelectElement;\n    this.updateNodeProperty('configuration.operator', select.value);\n  }\n\n  private onValueChange(event: Event): void {\n    const input = event.target as HTMLInputElement;\n    this.updateNodeProperty('configuration.value', input.value);\n  }\n\n  private onParallelCountChange(event: Event): void {\n    const input = event.target as HTMLInputElement;\n    this.updateNodeProperty('configuration.parallelCount', parseInt(input.value));\n  }\n\n  private isApproverSelected(userName: string): boolean {\n    const selectedNode = this.selectedNode;\n    if (!selectedNode || !selectedNode.configuration.approver) return false;\n\n    if (Array.isArray(selectedNode.configuration.approver)) {\n      return selectedNode.configuration.approver.includes(userName);\n    } else {\n      return selectedNode.configuration.approver === userName;\n    }\n  }\n\n  private onApproverSelect(user: User): void {\n    const selectedNode = this.selectedNode;\n    if (!selectedNode) return;\n\n    // Get current approvers (convert single approver to array if needed)\n    let currentApprovers: string[] = [];\n    if (selectedNode.configuration.approver) {\n      if (Array.isArray(selectedNode.configuration.approver)) {\n        currentApprovers = [...selectedNode.configuration.approver];\n      } else {\n        currentApprovers = [selectedNode.configuration.approver];\n      }\n    }\n\n    // Toggle approver selection\n    const approverIndex = currentApprovers.indexOf(user.name);\n    if (approverIndex > -1) {\n      // Remove approver\n      currentApprovers.splice(approverIndex, 1);\n    } else {\n      // Add approver\n      currentApprovers.push(user.name);\n    }\n\n    // Update the configuration\n    this.updateNodeProperty('configuration.approver', currentApprovers);\n  }\n\n  private updateNodeProperty(path: string, value: any): void {\n    if (!this.selectedNode) return;\n\n    const keys = path.split('.');\n    let current: any = this.selectedNode;\n    \n    for (let i = 0; i < keys.length - 1; i++) {\n      if (!current[keys[i]]) {\n        current[keys[i]] = {};\n      }\n      current = current[keys[i]];\n    }\n    \n    current[keys[keys.length - 1]] = value;\n    this.selectedNode.updatedAt = new Date();\n    \n    this.dispatchEvent(new CustomEvent('property-changed', {\n      detail: { nodeId: this.selectedNode.id, path, value },\n      bubbles: true\n    }));\n    \n    this.requestUpdate();\n  }\n\n  private renderApproverProperties(): any {\n    return html`\n      <div class=\"property-group\">\n        <label class=\"property-label\">Approver Name</label>\n        <input \n          type=\"text\" \n          class=\"property-input\"\n          .value=${this.selectedNode?.name || ''}\n          @input=${this.onNameChange}>\n      </div>\n      \n      <div class=\"property-group\">\n        <label class=\"property-label\">Approval Type</label>\n        <select class=\"property-select\" @change=${this.onApprovalTypeChange}>\n          <option value=\"single\" ?selected=${this.selectedNode?.configuration.approvalType === 'single'}>\n            Single Approval\n          </option>\n          <option value=\"any\" ?selected=${this.selectedNode?.configuration.approvalType === 'any'}>\n            Any Approval\n          </option>\n        </select>\n      </div>\n      \n      <div class=\"property-group\">\n        <label class=\"property-label\">Timeout (days)</label>\n        <input \n          type=\"number\" \n          class=\"property-input\"\n          .value=${this.selectedNode?.configuration.timeout || 7}\n          @input=${this.onTimeoutChange}>\n      </div>\n      \n      <div class=\"property-group\">\n        <label class=\"property-label\">Approver Selection</label>\n        <p style=\"font-size: 0.75rem; color: #6b7280; margin: 0.25rem 0 0.5rem 0;\">\n           Click to select multiple approvers\n        </p>\n        <div class=\"approver-selector\">\n          <div class=\"approver-list\">\n            ${this.users.map(user => {\n              const isSelected = this.isApproverSelected(user.name);\n              return html`\n                <div \n                  class=\"approver-item ${isSelected ? 'selected' : ''}\"\n                  @click=${() => this.onApproverSelect(user)}>\n                  <div class=\"approver-name\">${user.name}</div>\n                  <div class=\"approver-email\">${user.email}</div>\n                </div>\n              `;\n            })}\n          </div>\n        </div>\n      </div>\n    `;\n  }\n\n  private renderConditionProperties(): any {\n    return html`\n      <div class=\"property-group\">\n        <label class=\"property-label\">Condition Name</label>\n        <input \n          type=\"text\" \n          class=\"property-input\"\n          .value=${this.selectedNode?.name || ''}\n          @input=${this.onNameChange}>\n      </div>\n      \n      <div class=\"property-group\">\n        <label class=\"property-label\">Condition Type</label>\n        <select class=\"property-select\" @change=${this.onConditionTypeChange}>\n          <option value=\"amount\" ?selected=${this.selectedNode?.configuration.conditionType === 'amount'}>\n            Amount\n          </option>\n          <option value=\"department\" ?selected=${this.selectedNode?.configuration.conditionType === 'department'}>\n            Department\n          </option>\n          <option value=\"custom\" ?selected=${this.selectedNode?.configuration.conditionType === 'custom'}>\n            Custom\n          </option>\n        </select>\n      </div>\n      \n      <div class=\"property-group\">\n        <label class=\"property-label\">Operator</label>\n        <select class=\"property-select\" @change=${this.onOperatorChange}>\n          <option value=\"greaterThan\" ?selected=${this.selectedNode?.configuration.operator === 'greaterThan'}>\n            Greater Than\n          </option>\n          <option value=\"lessThan\" ?selected=${this.selectedNode?.configuration.operator === 'lessThan'}>\n            Less Than\n          </option>\n          <option value=\"equals\" ?selected=${this.selectedNode?.configuration.operator === 'equals'}>\n            Equals\n          </option>\n        </select>\n      </div>\n      \n      <div class=\"property-group\">\n        <label class=\"property-label\">Value</label>\n        <input \n          type=\"text\" \n          class=\"property-input\"\n          .value=${this.selectedNode?.configuration.value || ''}\n          @input=${this.onValueChange}>\n      </div>\n    `;\n  }\n\n  private renderParallelProperties(): any {\n    return html`\n      <div class=\"property-group\">\n        <label class=\"property-label\">Parallel Name</label>\n        <input \n          type=\"text\" \n          class=\"property-input\"\n          .value=${this.selectedNode?.name || ''}\n          @input=${this.onNameChange}>\n      </div>\n      \n      <div class=\"property-group\">\n        <label class=\"property-label\">Number of Approvers</label>\n        <input \n          type=\"number\" \n          class=\"property-input\"\n          .value=${this.selectedNode?.configuration.parallelCount || 2}\n          @input=${this.onParallelCountChange}>\n      </div>\n      \n      <div class=\"property-group\">\n        <label class=\"property-label\">Approval Type</label>\n        <select class=\"property-select\" @change=${this.onApprovalTypeChange}>\n          <option value=\"all\" ?selected=${this.selectedNode?.configuration.approvalType === 'all'}>\n            All Must Approve\n          </option>\n          <option value=\"any\" ?selected=${this.selectedNode?.configuration.approvalType === 'any'}>\n            Any Can Approve\n          </option>\n        </select>\n      </div>\n    `;\n  }\n\n  private renderDefaultProperties(): any {\n    if (this.selectedNode?.type === 'start') {\n      return this.renderStartProperties();\n    }\n    \n    return html`\n      <div class=\"property-group\">\n        <label class=\"property-label\">Node Name</label>\n        <input \n          type=\"text\" \n          class=\"property-input\"\n          .value=${this.selectedNode?.name || ''}\n          @input=${this.onNameChange}>\n      </div>\n    `;\n  }\n\n  private renderStartProperties(): any {\n    return html`\n      <div class=\"property-group\">\n        <label class=\"property-label\">Node Name</label>\n        <input \n          type=\"text\" \n          class=\"property-input\"\n          .value=${this.selectedNode?.name || ''}\n          @input=${this.onNameChange}>\n      </div>\n      \n      <div class=\"property-group\">\n        <label class=\"property-label\">Trigger Source</label>\n        <select class=\"property-select\" @change=${this.onTriggerSourceChange}>\n          <option value=\"catalog\" ?selected=${this.selectedNode?.configuration.triggerSource === 'catalog'}>\n            ServiceNow Catalog Item\n          </option>\n          <option value=\"form\" ?selected=${this.selectedNode?.configuration.triggerSource === 'form'}>\n            Custom Form\n          </option>\n          <option value=\"api\" ?selected=${this.selectedNode?.configuration.triggerSource === 'api'}>\n            API Call\n          </option>\n        </select>\n      </div>\n      \n      <div class=\"property-group\">\n        <label class=\"property-label\">Form Fields</label>\n        <div class=\"form-fields-preview\">\n          <div class=\"form-field\"> Item Description</div>\n          <div class=\"form-field\"> Estimated Cost</div>\n          <div class=\"form-field\"> Quantity</div>\n          <div class=\"form-field\"> Business Justification</div>\n          <div class=\"form-field\"> Vendor Information</div>\n        </div>\n        <p class=\"form-note\"> Employee fills out ServiceNow catalog form, which triggers this workflow</p>\n      </div>\n    `;\n  }\n\n  private renderNodeProperties(): any {\n    if (!this.selectedNode) return html``;\n\n    switch (this.selectedNode.type) {\n      case 'approver':\n        return this.renderApproverProperties();\n      case 'condition':\n        return this.renderConditionProperties();\n      case 'parallel':\n        return this.renderParallelProperties();\n      default:\n        return this.renderDefaultProperties();\n    }\n  }\n\n  render() {\n    if (!this.selectedNode) {\n      return html`\n        <div class=\"properties\">\n          <div class=\"properties-header\">\n            <h3>Properties</h3>\n          </div>\n          <div class=\"properties-content\">\n            <div class=\"no-selection\">\n              <div class=\"no-selection-icon\"></div>\n              <h4>No Selection</h4>\n              <p>Select a node to configure its properties</p>\n            </div>\n          </div>\n        </div>\n      `;\n    }\n\n    return html`\n      <div class=\"properties\">\n        <div class=\"properties-header\">\n          <h3>Properties</h3>\n          <div class=\"node-type\">${this.selectedNode.type}</div>\n        </div>\n        \n        <div class=\"properties-content\">\n          <div class=\"node-info\">\n            <div class=\"node-type\">${this.selectedNode.type}</div>\n            <h4>${this.selectedNode.name}</h4>\n            <p>Configure the properties for this approval node</p>\n          </div>\n          \n          ${this.renderNodeProperties()}\n        </div>\n      </div>\n    `;\n  }\n}\n","// Lightdash Service - Mock implementation for POC\nimport { FinOpsMetrics, LightdashDashboard } from '../types';\n\nexport class LightdashService {\n  private baseUrl = '/api/lightdash';\n  \n  /**\n   * Get FinOps metrics dashboard data\n   * In production, this would call Lightdash API\n   */\n  async getFinOpsMetrics(): Promise<FinOpsMetrics> {\n    // Simulate network delay\n    await this.delay(300);\n    \n    // Mock FinOps data - realistic for a FinOps BI Platform\n    return {\n      totalSpend: {\n        current: 2300000, // $2.3M\n        previous: 2100000, // $2.1M\n        trend: 'up',\n        percentageChange: 9.5\n      },\n      budget: {\n        allocated: 2500000, // $2.5M\n        spent: 2300000, // $2.3M\n        remaining: 200000, // $200K\n        variance: 200000, // $200K over\n        variancePercentage: 8.0,\n        daysUntilExhausted: 23\n      },\n      costByService: [\n        { service: 'EC2 (Compute)', cost: 800000, percentage: 34.8, trend: 'up' },\n        { service: 'S3 (Storage)', cost: 400000, percentage: 17.4, trend: 'up' },\n        { service: 'RDS (Database)', cost: 300000, percentage: 13.0, trend: 'down' },\n        { service: 'Lambda (Serverless)', cost: 250000, percentage: 10.9, trend: 'up' },\n        { service: 'CloudFront (CDN)', cost: 200000, percentage: 8.7, trend: 'up' },\n        { service: 'Other', cost: 350000, percentage: 15.2, trend: 'stable' }\n      ],\n      costByDepartment: [\n        { department: 'Engineering', cost: 1200000, trend: 'up', percentage: 52.2 },\n        { department: 'IT Operations', cost: 450000, trend: 'up', percentage: 19.6 },\n        { department: 'Sales & Marketing', cost: 350000, trend: 'down', percentage: 15.2 },\n        { department: 'Product', cost: 200000, trend: 'up', percentage: 8.7 },\n        { department: 'Other', cost: 100000, trend: 'stable', percentage: 4.3 }\n      ],\n      costByCloudProvider: [\n        { provider: 'AWS', cost: 1380000, percentage: 60.0 },\n        { provider: 'Azure', cost: 690000, percentage: 30.0 },\n        { provider: 'GCP', cost: 230000, percentage: 10.0 }\n      ],\n      anomalies: [\n        {\n          id: 'anom_1',\n          type: 'cost_spike',\n          severity: 'high',\n          message: 'EC2 costs spiked 45% on Jan 15 - likely due to auto-scaling event',\n          date: new Date('2025-01-15'),\n          cost: 360000\n        },\n        {\n          id: 'anom_2',\n          type: 'storage_increase',\n          severity: 'medium',\n          message: 'S3 storage costs increased 30% this week',\n          date: new Date('2025-01-20'),\n          cost: 120000\n        },\n        {\n          id: 'anom_3',\n          type: 'budget_alert',\n          severity: 'high',\n          message: 'Budget will be exhausted in 23 days at current burn rate',\n          date: new Date(),\n          cost: 0\n        }\n      ],\n      monthlyTrend: [\n        { month: 'Jul 2024', cost: 1800000, budget: 2000000 },\n        { month: 'Aug 2024', cost: 1900000, budget: 2000000 },\n        { month: 'Sep 2024', cost: 1950000, budget: 2100000 },\n        { month: 'Oct 2024', cost: 2000000, budget: 2200000 },\n        { month: 'Nov 2024', cost: 2050000, budget: 2300000 },\n        { month: 'Dec 2024', cost: 2100000, budget: 2400000 },\n        { month: 'Jan 2025', cost: 2300000, budget: 2500000 }\n      ]\n    };\n  }\n  \n  /**\n   * Get Lightdash dashboard configuration\n   * In production, this would fetch from Lightdash API\n   */\n  async getDashboard(dashboardId: string): Promise<LightdashDashboard> {\n    await this.delay(200);\n    \n    const metrics = await this.getFinOpsMetrics();\n    \n    return {\n      id: dashboardId,\n      name: 'FinOps Overview Dashboard',\n      description: 'Cloud cost analytics and budget tracking',\n      embedUrl: `https://lightdash.example.com/embed/${dashboardId}`, // Mock embed URL\n      metrics\n    };\n  }\n  \n  /**\n   * Refresh metrics (simulate real-time update)\n   */\n  async refreshMetrics(): Promise<FinOpsMetrics> {\n    await this.delay(500);\n    return this.getFinOpsMetrics();\n  }\n  \n  // Utility method to simulate network delay\n  private delay(ms: number): Promise<void> {\n    return new Promise(resolve => setTimeout(resolve, ms));\n  }\n}\n\n// Global service instance\nexport const lightdashService = new LightdashService();\n\n","import { LitElement, html, css } from 'lit';\nimport { customElement, state } from 'lit/decorators.js';\nimport { FinOpsMetrics } from '../types';\nimport { lightdashService } from '../services/lightdash-service';\n\n@customElement('finops-dashboard')\nexport class FinOpsDashboard extends LitElement {\n  @state() private metrics: FinOpsMetrics | null = null;\n  @state() private isLoading = true;\n  @state() private error: string | null = null;\n  @state() private lastUpdated: Date | null = null;\n\n  static styles = css`\n    :host {\n      display: block;\n      height: 100%;\n      width: 100%;\n      overflow-y: auto;\n      background: #f8f9fa;\n    }\n\n    .dashboard-container {\n      padding: 2rem;\n      max-width: 1400px;\n      margin: 0 auto;\n    }\n\n    .dashboard-header {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      margin-bottom: 2rem;\n    }\n\n    .dashboard-header h2 {\n      margin: 0;\n      font-size: 1.75rem;\n      font-weight: 600;\n      color: #1f2937;\n    }\n\n    .header-actions {\n      display: flex;\n      gap: 1rem;\n      align-items: center;\n    }\n\n    .refresh-btn {\n      padding: 0.5rem 1rem;\n      background: #3b82f6;\n      color: white;\n      border: none;\n      border-radius: 0.375rem;\n      cursor: pointer;\n      font-size: 0.875rem;\n      font-weight: 500;\n      transition: background 0.2s;\n    }\n\n    .refresh-btn:hover {\n      background: #2563eb;\n    }\n\n    .refresh-btn:disabled {\n      opacity: 0.5;\n      cursor: not-allowed;\n    }\n\n    .last-updated {\n      font-size: 0.875rem;\n      color: #6b7280;\n    }\n\n    .metrics-grid {\n      display: grid;\n      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\n      gap: 1.5rem;\n      margin-bottom: 2rem;\n    }\n\n    .metric-card {\n      background: white;\n      border-radius: 0.5rem;\n      padding: 1.5rem;\n      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n      border: 1px solid #e5e7eb;\n    }\n\n    .metric-label {\n      font-size: 0.875rem;\n      color: #6b7280;\n      margin-bottom: 0.5rem;\n      font-weight: 500;\n    }\n\n    .metric-value {\n      font-size: 2rem;\n      font-weight: 700;\n      color: #1f2937;\n      margin-bottom: 0.25rem;\n    }\n\n    .metric-change {\n      font-size: 0.875rem;\n      display: flex;\n      align-items: center;\n      gap: 0.25rem;\n    }\n\n    .metric-change.up {\n      color: #dc2626;\n    }\n\n    .metric-change.down {\n      color: #16a34a;\n    }\n\n    .chart-section {\n      background: white;\n      border-radius: 0.5rem;\n      padding: 1.5rem;\n      margin-bottom: 1.5rem;\n      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n      border: 1px solid #e5e7eb;\n    }\n\n    .chart-title {\n      font-size: 1.125rem;\n      font-weight: 600;\n      color: #1f2937;\n      margin-bottom: 1rem;\n    }\n\n    .cost-list {\n      display: flex;\n      flex-direction: column;\n      gap: 0.75rem;\n    }\n\n    .cost-item {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      padding: 0.75rem;\n      background: #f9fafb;\n      border-radius: 0.375rem;\n    }\n\n    .cost-item-label {\n      display: flex;\n      align-items: center;\n      gap: 0.5rem;\n      font-weight: 500;\n      color: #374151;\n    }\n\n    .cost-item-value {\n      font-weight: 600;\n      color: #1f2937;\n    }\n\n    .trend-indicator {\n      font-size: 0.75rem;\n      padding: 0.125rem 0.375rem;\n      border-radius: 0.25rem;\n      font-weight: 500;\n    }\n\n    .trend-indicator.up {\n      background: #fee2e2;\n      color: #dc2626;\n    }\n\n    .trend-indicator.down {\n      background: #dcfce7;\n      color: #16a34a;\n    }\n\n    .anomalies-section {\n      background: white;\n      border-radius: 0.5rem;\n      padding: 1.5rem;\n      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n      border: 1px solid #e5e7eb;\n    }\n\n    .anomaly-item {\n      padding: 1rem;\n      border-left: 4px solid;\n      border-radius: 0.375rem;\n      margin-bottom: 0.75rem;\n      background: #f9fafb;\n    }\n\n    .anomaly-item.high {\n      border-left-color: #dc2626;\n    }\n\n    .anomaly-item.medium {\n      border-left-color: #f59e0b;\n    }\n\n    .anomaly-item.low {\n      border-left-color: #3b82f6;\n    }\n\n    .anomaly-header {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      margin-bottom: 0.5rem;\n    }\n\n    .anomaly-severity {\n      font-size: 0.75rem;\n      font-weight: 600;\n      text-transform: uppercase;\n      padding: 0.25rem 0.5rem;\n      border-radius: 0.25rem;\n    }\n\n    .anomaly-severity.high {\n      background: #fee2e2;\n      color: #dc2626;\n    }\n\n    .anomaly-severity.medium {\n      background: #fef3c7;\n      color: #d97706;\n    }\n\n    .anomaly-severity.low {\n      background: #dbeafe;\n      color: #2563eb;\n    }\n\n    .anomaly-message {\n      color: #374151;\n      font-size: 0.875rem;\n    }\n\n    .anomaly-date {\n      color: #6b7280;\n      font-size: 0.75rem;\n      margin-top: 0.25rem;\n    }\n\n    .loading {\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      height: 400px;\n      color: #6b7280;\n    }\n\n    .error {\n      background: #fee2e2;\n      color: #dc2626;\n      padding: 1rem;\n      border-radius: 0.5rem;\n      margin: 2rem;\n    }\n\n    .two-column {\n      display: grid;\n      grid-template-columns: 1fr 1fr;\n      gap: 1.5rem;\n    }\n\n    @media (max-width: 768px) {\n      .two-column {\n        grid-template-columns: 1fr;\n      }\n      \n      .metrics-grid {\n        grid-template-columns: 1fr;\n      }\n    }\n  `;\n\n  connectedCallback() {\n    super.connectedCallback();\n    this.loadMetrics();\n  }\n\n  private async loadMetrics() {\n    this.isLoading = true;\n    this.error = null;\n    \n    try {\n      this.metrics = await lightdashService.getFinOpsMetrics();\n      this.lastUpdated = new Date();\n    } catch (err) {\n      this.error = err instanceof Error ? err.message : 'Failed to load metrics';\n    } finally {\n      this.isLoading = false;\n    }\n  }\n\n  private async handleRefresh() {\n    await this.loadMetrics();\n  }\n\n  private formatCurrency(value: number): string {\n    return new Intl.NumberFormat('en-US', {\n      style: 'currency',\n      currency: 'USD',\n      minimumFractionDigits: 0,\n      maximumFractionDigits: 0\n    }).format(value);\n  }\n\n  private formatNumber(value: number): string {\n    if (value >= 1000000) {\n      return `$${(value / 1000000).toFixed(1)}M`;\n    } else if (value >= 1000) {\n      return `$${(value / 1000).toFixed(0)}K`;\n    }\n    return `$${value.toFixed(0)}`;\n  }\n\n  private formatDate(date: Date): string {\n    return new Intl.DateTimeFormat('en-US', {\n      month: 'short',\n      day: 'numeric',\n      year: 'numeric'\n    }).format(date);\n  }\n\n  render() {\n    if (this.isLoading) {\n      return html`\n        <div class=\"loading\">\n          <div>Loading FinOps metrics...</div>\n        </div>\n      `;\n    }\n\n    if (this.error) {\n      return html`\n        <div class=\"error\">\n          <strong>Error:</strong> ${this.error}\n        </div>\n      `;\n    }\n\n    if (!this.metrics) {\n      return html`<div>No metrics available</div>`;\n    }\n\n    const { totalSpend, budget, costByService, costByDepartment, costByCloudProvider, anomalies } = this.metrics;\n\n    return html`\n      <div class=\"dashboard-container\">\n        <div class=\"dashboard-header\">\n          <h2> FinOps Dashboard</h2>\n          <div class=\"header-actions\">\n            ${this.lastUpdated ? html`\n              <span class=\"last-updated\">\n                Last updated: ${this.lastUpdated.toLocaleTimeString()}\n              </span>\n            ` : ''}\n            <button \n              class=\"refresh-btn\" \n              @click=${this.handleRefresh}\n              ?disabled=${this.isLoading}\n            >\n               Refresh\n            </button>\n          </div>\n        </div>\n\n        <!-- Key Metrics -->\n        <div class=\"metrics-grid\">\n          <div class=\"metric-card\">\n            <div class=\"metric-label\">Total Monthly Spend</div>\n            <div class=\"metric-value\">${this.formatCurrency(totalSpend.current)}</div>\n            <div class=\"metric-change ${totalSpend.trend}\">\n              ${totalSpend.trend === 'up' ? '' : ''} \n              ${totalSpend.percentageChange.toFixed(1)}% vs last month\n            </div>\n          </div>\n\n          <div class=\"metric-card\">\n            <div class=\"metric-label\">Budget Status</div>\n            <div class=\"metric-value\">${this.formatCurrency(budget.spent)} / ${this.formatCurrency(budget.allocated)}</div>\n            <div class=\"metric-change ${budget.variance > 0 ? 'up' : 'down'}\">\n              ${budget.variance > 0 ? '' : ''} \n              ${Math.abs(budget.variancePercentage).toFixed(1)}% ${budget.variance > 0 ? 'over' : 'under'} budget\n            </div>\n          </div>\n\n          <div class=\"metric-card\">\n            <div class=\"metric-label\">Budget Remaining</div>\n            <div class=\"metric-value\">${this.formatCurrency(budget.remaining)}</div>\n            <div class=\"metric-change\">\n              ~${budget.daysUntilExhausted} days remaining\n            </div>\n          </div>\n\n          <div class=\"metric-card\">\n            <div class=\"metric-label\">Top Cloud Provider</div>\n            <div class=\"metric-value\">${costByCloudProvider[0]?.provider || 'N/A'}</div>\n            <div class=\"metric-change\">\n              ${costByCloudProvider[0] ? this.formatCurrency(costByCloudProvider[0].cost) : ''} \n              (${costByCloudProvider[0]?.percentage.toFixed(1)}%)\n            </div>\n          </div>\n        </div>\n\n        <!-- Cost Breakdowns -->\n        <div class=\"two-column\">\n          <div class=\"chart-section\">\n            <div class=\"chart-title\">Cost by Service</div>\n            <div class=\"cost-list\">\n              ${costByService.map(item => html`\n                <div class=\"cost-item\">\n                  <div class=\"cost-item-label\">\n                    ${item.service}\n                    <span class=\"trend-indicator ${item.trend}\">\n                      ${item.trend === 'up' ? '' : ''}\n                    </span>\n                  </div>\n                  <div class=\"cost-item-value\">\n                    ${this.formatCurrency(item.cost)} (${item.percentage.toFixed(1)}%)\n                  </div>\n                </div>\n              `)}\n            </div>\n          </div>\n\n          <div class=\"chart-section\">\n            <div class=\"chart-title\">Cost by Department</div>\n            <div class=\"cost-list\">\n              ${costByDepartment.map(item => html`\n                <div class=\"cost-item\">\n                  <div class=\"cost-item-label\">\n                    ${item.department}\n                    <span class=\"trend-indicator ${item.trend}\">\n                      ${item.trend === 'up' ? '' : ''}\n                    </span>\n                  </div>\n                  <div class=\"cost-item-value\">\n                    ${this.formatCurrency(item.cost)} (${item.percentage.toFixed(1)}%)\n                  </div>\n                </div>\n              `)}\n            </div>\n          </div>\n        </div>\n\n        <!-- Cloud Providers -->\n        <div class=\"chart-section\">\n          <div class=\"chart-title\">Cost by Cloud Provider</div>\n          <div class=\"cost-list\">\n            ${costByCloudProvider.map(item => html`\n              <div class=\"cost-item\">\n                <div class=\"cost-item-label\">${item.provider}</div>\n                <div class=\"cost-item-value\">\n                  ${this.formatCurrency(item.cost)} (${item.percentage.toFixed(1)}%)\n                </div>\n              </div>\n            `)}\n          </div>\n        </div>\n\n        <!-- Anomalies -->\n        ${anomalies.length > 0 ? html`\n          <div class=\"anomalies-section\">\n            <div class=\"chart-title\"> Cost Anomalies & Alerts</div>\n            ${anomalies.map(anomaly => html`\n              <div class=\"anomaly-item ${anomaly.severity}\">\n                <div class=\"anomaly-header\">\n                  <span class=\"anomaly-severity ${anomaly.severity}\">\n                    ${anomaly.severity}\n                  </span>\n                  ${anomaly.cost > 0 ? html`\n                    <span class=\"cost-item-value\">${this.formatCurrency(anomaly.cost)}</span>\n                  ` : ''}\n                </div>\n                <div class=\"anomaly-message\">${anomaly.message}</div>\n                <div class=\"anomaly-date\">${this.formatDate(anomaly.date)}</div>\n              </div>\n            `)}\n          </div>\n        ` : ''}\n      </div>\n    `;\n  }\n}\n\n","import './components/approval-builder';\nimport './components/approval-canvas';\nimport './components/approval-node';\nimport './components/approval-palette';\nimport './components/approval-properties';\nimport './components/connection-layer';\nimport './components/finops-dashboard';\n\nconsole.log(' ServiceNow Flow Designer V2 - Approval Workflow Builder');\nconsole.log(' Built with Web Components + Lit');\nconsole.log(' Modern Architecture for Enterprise Workflow Automation');\nconsole.log(' FinOps Dashboard integrated with Lightdash');\n"],"file":"assets/index-f8db031c.js"}